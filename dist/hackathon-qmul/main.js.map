{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app-routing.module.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/audio/audio.component.css","webpack:///./src/app/audio/audio.component.html","webpack:///./src/app/audio/audio.component.ts","webpack:///./src/app/canvas-controls/canvas-controls.component.css","webpack:///./src/app/canvas-controls/canvas-controls.component.html","webpack:///./src/app/canvas-controls/canvas-controls.component.ts","webpack:///./src/app/canvas/canvas.component.css","webpack:///./src/app/canvas/canvas.component.html","webpack:///./src/app/canvas/canvas.component.ts","webpack:///./src/app/classes/zone.ts","webpack:///./src/app/image/image.component.css","webpack:///./src/app/image/image.component.html","webpack:///./src/app/image/image.component.ts","webpack:///./src/app/interaction/interaction.component.css","webpack:///./src/app/interaction/interaction.component.html","webpack:///./src/app/interaction/interaction.component.ts","webpack:///./src/app/magic-glass/magic-glass.component.css","webpack:///./src/app/magic-glass/magic-glass.component.html","webpack:///./src/app/magic-glass/magic-glass.component.ts","webpack:///./src/app/qr-reader/qr-reader.component.css","webpack:///./src/app/qr-reader/qr-reader.component.html","webpack:///./src/app/qr-reader/qr-reader.component.ts","webpack:///./src/app/services/data.service.ts","webpack:///./src/app/services/drawing.service.ts","webpack:///./src/app/services/navigation.service.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AppComponent } from './app.component';\nimport { InteractionComponent } from './interaction/interaction.component';\nimport { QrReaderComponent} from './qr-reader/qr-reader.component';\nimport { HashLocationStrategy, LocationStrategy } from '@angular/common';\n\n\nconst routes: Routes = [\n     {path:'interaction/:source/:canvases/:annotation', component: InteractionComponent},\n    {path:'single/:source/:canvases', component: InteractionComponent},\n     {path:'interaction/:source/:canvases', component: InteractionComponent},\n    {path:'interaction/:map', component: InteractionComponent},\n     {path:'home', component: QrReaderComponent}, \n    {path:'', redirectTo: \"/interaction/aquila_v/0,2\", pathMatch:\"full\"} \n   \n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes, {onSameUrlNavigation: 'reload'})],\n  exports: [RouterModule],\n    providers:[{provide: LocationStrategy, useClass: HashLocationStrategy}]\n})\nexport class AppRoutingModule { }\n","module.exports = \"* {box-sizing: border-box}\\r\\nhtml,body {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    position: absolute;\\r\\n    left: 0;\\r\\n    top: 0;\\r\\n    background-color: black;\\r\\n    padding: 0;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2FwcC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEdBQUcsc0JBQXNCO0FBQ3pCO0lBQ0ksV0FBVztJQUNYLFlBQVk7SUFDWixrQkFBa0I7SUFDbEIsT0FBTztJQUNQLE1BQU07SUFDTix1QkFBdUI7SUFDdkIsVUFBVTtBQUNkIiwiZmlsZSI6Ii4uL2FwcC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiKiB7Ym94LXNpemluZzogYm9yZGVyLWJveH1cclxuaHRtbCxib2R5IHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgbGVmdDogMDtcclxuICAgIHRvcDogMDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IGJsYWNrO1xyXG4gICAgcGFkZGluZzogMDtcclxufSJdfQ== */\"","module.exports = \"<!--The content below is only a placeholder and can be replaced.-->\\n\\n\\n<html>\\n    <body>\\n        <router-outlet></router-outlet>\\n    </body>\\n\\n</html>\\n\"","import { Component, OnInit } from '@angular/core';\n\n\n//import { Islide } from '../Islide';\n\n\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit{\n  title = 'Images';\n    \n    \n\n    \n    constructor(){\n        \n    }\n    \n    ngOnInit() {\n \n\n  }    \n    \n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { HttpClientModule } from '@angular/common/http';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { CanvasComponent } from './canvas/canvas.component';\n\nimport { ImageComponent } from './image/image.component';\nimport { InteractionComponent } from './interaction/interaction.component';\n//import { ControlsComponent } from './controls/controls.component';\nimport { AudioComponent } from './audio/audio.component';\nimport { CanvasControlsComponent } from './canvas-controls/canvas-controls.component';\n\nimport { NgxYoutubePlayerModule } from 'ngx-youtube-player';\nimport {MatSliderModule} from '@angular/material/slider';\nimport { MagicGlassComponent } from './magic-glass/magic-glass.component';\n\nimport {MatButtonModule} from '@angular/material/button';\nimport {MatIconModule} from '@angular/material/icon';\nimport { QrReaderComponent } from './qr-reader/qr-reader.component';\nimport { ZXingScannerModule } from '@zxing/ngx-scanner';\nimport {MatTooltipModule} from '@angular/material/tooltip';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    CanvasComponent,\n\n    ImageComponent,\n    InteractionComponent,\n   // ControlsComponent,\n    AudioComponent,\n   CanvasControlsComponent,\n   MagicGlassComponent,\n\n   QrReaderComponent\n   \n  ],\n    \n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n      HttpClientModule,\n      NgxYoutubePlayerModule.forRoot(),\n      MatSliderModule,\n         MatButtonModule,\n      MatIconModule,\n       ZXingScannerModule,\n      MatTooltipModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","module.exports = \"\\r\\n\\r\\naudio{    width: 50%;\\r\\n  display:none;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2F1ZGlvL2F1ZGlvLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFFQSxVQUFVLFVBQVU7RUFDbEIsWUFBWTtBQUNkIiwiZmlsZSI6Ii4uL2F1ZGlvL2F1ZGlvLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuXHJcbmF1ZGlveyAgICB3aWR0aDogNTAlO1xyXG4gIGRpc3BsYXk6bm9uZTtcclxufSJdfQ== */\"","module.exports = \"<youtube-player *ngIf=\\\"youTubeId\\\"\\n          [videoId]=\\\"youTubeId\\\"\\n          (ready)=\\\"saveYT($event)\\\"\\n          (change)=\\\"changeYT($event)\\\"\\n                 width=\\\"50%\\\" \\n       >\\n        </youtube-player>\\n\\n\\n<div id=audio>\\n     <audio id=music controls #music>\\n        <source id=song [src]=\\\"songUrl\\\" type=\\\"audio/mpeg\\\" #song>\\n    </audio>\\n    \\n     <audio id=voice controls #voice>\\n        <source id=comment [src]=\\\"commentUrl\\\" type=\\\"audio/mpeg\\\" #comment>\\n    </audio>\\n    \\n</div>\\n    \\n\"","import { Component, AfterViewInit, OnChanges, ViewChild, Input, Output, EventEmitter } from '@angular/core';\n\n@Component({\n  selector: 'app-audio',\n  templateUrl: './audio.component.html',\n  styleUrls: ['./audio.component.css']\n})\nexport class AudioComponent implements AfterViewInit {\n     @ViewChild(\"music\") music;\n     @ViewChild(\"song\") song;\n     @ViewChild(\"voice\") voice;\n     @ViewChild(\"comment\") comment;\n   youTube: any;\n   @Input(\"youTubeId\") youTubeId : string;\n    \n    @Input(\"songUrl\") songUrl: string;\n    @Input(\"playing\") playing: boolean;\n     @Input(\"mode\") mode: string;\n     @Input(\"commentUrl\") commentUrl: string;\n    \n     @Output() canPlay = new EventEmitter<string>();\n\n\n  constructor() {}\n\n\n  ngAfterViewInit() {\n      let ref=this;\n      \n      \n    this.music.nativeElement.oncanplay = function() {\n       console.log(\"player ready\");\n    ref.canPlay.emit(\"ready\");\n};\n      \n         if(this.songUrl){\n          this.song.nativeElement.src=this.songUrl;\n                console.log(\"loading song\");\n             this.music.nativeElement.load();\n          if(this.playing){\n          \n          this.music.nativeElement.play();\n      }\n      }\n      \n\n  \n      \n   \n  }\n    \n     ngOnChanges() {\n         \n         console.log(\"audio changes\");\n       \n         if(this.youTubeId){\n                  \n         console.log(\"receiving youtube id: \"+this.youTubeId);\n            this.youTube.loadVideoById(this.youTubeId);\n             this.music.nativeElement.pause();\n          // this.youTube.playVideo();\n              \n         }\n           \n         \n       //   console.log(\"PLAY: \" + this.mode);\n         \n      if(this.songUrl && (this.playing || this.mode==\"interaction\")){\n          console.log(\"loading song\");\n          this.music.nativeElement.load();\n          this.youTube.stopVideo();\n          this.youTubeId=\"\";\n          this.youTube.clearVideo();\n         this.music.nativeElement.play();\n      }\n  }\n    \n    saveYT(yt){\n        console.log(\"saving YT\");\n        this.youTube=yt;\n      //  this.youTube.playVideo();\n      \n    }\n    \n     changeYT(e){\n         console.log(\"YT message\");\n       //console.log(this.youTube);\n         //this.youTube.playVideo();\n          \n    }\n\n\n}\n","module.exports = \"#wrapper{\\r\\n    display: -webkit-box;\\r\\n    display: flex;\\r\\n    -webkit-box-orient: horizontal;\\r\\n    -webkit-box-direction: normal;\\r\\n            flex-flow: row nowrap;\\r\\n    -webkit-box-align: center;\\r\\n            align-items: center;\\r\\n    width: 100%;\\r\\n    -webkit-box-pack: justify;\\r\\n            justify-content: space-between;\\r\\n}\\r\\n\\r\\n#zoom{\\r\\n    padding: .4rem;\\r\\n    margin: 0.2em;\\r\\n    display: -webkit-inline-box;\\r\\n    display: inline-flex;\\r\\n    color: black;\\r\\n    min-width: 2em;\\r\\n    -webkit-box-orient: horizontal;\\r\\n    -webkit-box-direction: normal;\\r\\n            flex-flow: row nowrap;\\r\\n    -webkit-box-align: center;\\r\\n            align-items: center;\\r\\n    color:white;\\r\\n}\\r\\n\\r\\n#zoom button{\\r\\n    color:white;\\r\\n    background-color:black;\\r\\n    border-radius:0.5em;\\r\\n    font-weight:bold;\\r\\n}\\r\\n\\r\\n#zoomToFit{\\r\\n    background-image:url(\\\"/assets/images/graphics/arrow_back.png\\\");\\r\\n    width:1.5em;\\r\\n    height:2em;\\r\\n        background-repeat: no-repeat;\\r\\n    background-size: 100% 100%;\\r\\n}\\r\\n\\r\\n#cats{margin-right:5%}\\r\\n\\r\\n.showButton{\\r\\n    background-color:black;\\r\\n    color:white;\\r\\n    opacity:0.5;\\r\\n      width:2em;\\r\\n    height:2em;\\r\\n}\\r\\n\\r\\n.hideButton{\\r\\n    background-color:black;\\r\\n    color:black;\\r\\n    width:2em;\\r\\n    height:2em;\\r\\n}\\r\\n\\r\\n.categorySwitch{\\r\\n margin-left:1em;\\r\\n    padding-left:0.5em;\\r\\n    border-left: 2px solid white;\\r\\n}\\r\\n\\r\\n.iconButton{\\r\\n    border-radius: 0.2em;\\r\\n    border:2px outset rgb(20,20,20);\\r\\n    width:3em;\\r\\n    height:3em;\\r\\n    margin:0.25em;\\r\\n     background-size: 100% 100%;\\r\\n    -webkit-transition : background-image 1s ease-out;\\r\\n    transition : background-image 1s ease-out;\\r\\n  \\r\\n}\\r\\n\\r\\n.icon_back{\\r\\n    background-image:url(\\\"/assets/images/icons/returnv2.png\\\");\\r\\n}\\r\\n\\r\\n.icon_home{\\r\\n    background-image:url(\\\"/assets/images/icons/home%20key%20blue.png\\\");\\r\\n}\\r\\n\\r\\n.icon_home:hover{\\r\\n    background-image:url(\\\"/assets/images/icons/home%20yellow.png\\\");\\r\\n}\\r\\n\\r\\n.Script{\\r\\n    background-image: url('/assets/images/icons/script blue.png');\\r\\n}\\r\\n\\r\\n.Script_on{\\r\\n    background-image: url('/assets/images/icons/script yellow.png');\\r\\n}\\r\\n\\r\\n.Text{\\r\\n    background-image: url('/assets/images/icons/text blue.png');\\r\\n}\\r\\n\\r\\n.Text_on{\\r\\n    background-image: url('/assets/images/icons/text yellow.png');\\r\\n}\\r\\n\\r\\n.Author{\\r\\n    background-image: url('/assets/images/icons/author blue.png');\\r\\n}\\r\\n\\r\\n.Author_on{\\r\\n    background-image: url('/assets/images/icons/author yellow.png');\\r\\n}\\r\\n\\r\\n.Material{\\r\\n    background-image: url('/assets/images/icons/material blue.png');\\r\\n}\\r\\n\\r\\n.Material_on{\\r\\n    background-image: url('/assets/images/icons/material yellow.png');\\r\\n}\\r\\n\\r\\n.City, .Region{\\r\\n    background-image:url(\\\"/assets/images/icons/map%20blue.png\\\");\\r\\n}\\r\\n\\r\\n.CIty_on, .Region_on{\\r\\n    background-image:url(\\\"/assets/images/icons/map%20yellow.png\\\");\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2NhbnZhcy1jb250cm9scy9jYW52YXMtY29udHJvbHMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLG9CQUFhO0lBQWIsYUFBYTtJQUNiLDhCQUFxQjtJQUFyQiw2QkFBcUI7WUFBckIscUJBQXFCO0lBQ3JCLHlCQUFtQjtZQUFuQixtQkFBbUI7SUFDbkIsV0FBVztJQUNYLHlCQUE4QjtZQUE5Qiw4QkFBOEI7QUFDbEM7O0FBRUE7SUFDSSxjQUFjO0lBQ2QsYUFBYTtJQUNiLDJCQUFvQjtJQUFwQixvQkFBb0I7SUFDcEIsWUFBWTtJQUNaLGNBQWM7SUFDZCw4QkFBcUI7SUFBckIsNkJBQXFCO1lBQXJCLHFCQUFxQjtJQUNyQix5QkFBbUI7WUFBbkIsbUJBQW1CO0lBQ25CLFdBQVc7QUFDZjs7QUFJQTtJQUNJLFdBQVc7SUFDWCxzQkFBc0I7SUFDdEIsbUJBQW1CO0lBQ25CLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLDhEQUE4RDtJQUM5RCxXQUFXO0lBQ1gsVUFBVTtRQUNOLDRCQUE0QjtJQUNoQywwQkFBMEI7QUFDOUI7O0FBRUEsTUFBTSxlQUFlOztBQUdyQjtJQUNJLHNCQUFzQjtJQUN0QixXQUFXO0lBQ1gsV0FBVztNQUNULFNBQVM7SUFDWCxVQUFVO0FBQ2Q7O0FBRUE7SUFDSSxzQkFBc0I7SUFDdEIsV0FBVztJQUNYLFNBQVM7SUFDVCxVQUFVO0FBQ2Q7O0FBR0E7Q0FDQyxlQUFlO0lBQ1osa0JBQWtCO0lBQ2xCLDRCQUE0QjtBQUNoQzs7QUFHQTtJQUNJLG9CQUFvQjtJQUNwQiwrQkFBK0I7SUFDL0IsU0FBUztJQUNULFVBQVU7SUFDVixhQUFhO0tBQ1osMEJBQTBCO0lBQzNCLGlEQUF5QztJQUF6Qyx5Q0FBeUM7O0FBRTdDOztBQUdBO0lBQ0kseURBQXlEO0FBQzdEOztBQUdBO0lBQ0ksa0VBQWtFO0FBQ3RFOztBQUVBO0lBQ0ksOERBQThEO0FBQ2xFOztBQUlBO0lBQ0ksNkRBQTZEO0FBQ2pFOztBQUVBO0lBQ0ksK0RBQStEO0FBQ25FOztBQUVBO0lBQ0ksMkRBQTJEO0FBQy9EOztBQUVBO0lBQ0ksNkRBQTZEO0FBQ2pFOztBQUVBO0lBQ0ksNkRBQTZEO0FBQ2pFOztBQUVBO0lBQ0ksK0RBQStEO0FBQ25FOztBQUVBO0lBQ0ksK0RBQStEO0FBQ25FOztBQUVBO0lBQ0ksaUVBQWlFO0FBQ3JFOztBQUdBO0lBQ0ksMkRBQTJEO0FBQy9EOztBQUVBO0lBQ0ksNkRBQTZEO0FBQ2pFIiwiZmlsZSI6Ii4uL2NhbnZhcy1jb250cm9scy9jYW52YXMtY29udHJvbHMuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIiN3cmFwcGVye1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZmxvdzogcm93IG5vd3JhcDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxufVxyXG5cclxuI3pvb217XHJcbiAgICBwYWRkaW5nOiAuNHJlbTtcclxuICAgIG1hcmdpbjogMC4yZW07XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcclxuICAgIGNvbG9yOiBibGFjaztcclxuICAgIG1pbi13aWR0aDogMmVtO1xyXG4gICAgZmxleC1mbG93OiByb3cgbm93cmFwO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGNvbG9yOndoaXRlO1xyXG59XHJcblxyXG5cclxuXHJcbiN6b29tIGJ1dHRvbntcclxuICAgIGNvbG9yOndoaXRlO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjpibGFjaztcclxuICAgIGJvcmRlci1yYWRpdXM6MC41ZW07XHJcbiAgICBmb250LXdlaWdodDpib2xkO1xyXG59XHJcblxyXG4jem9vbVRvRml0e1xyXG4gICAgYmFja2dyb3VuZC1pbWFnZTp1cmwoXCIvYXNzZXRzL2ltYWdlcy9ncmFwaGljcy9hcnJvd19iYWNrLnBuZ1wiKTtcclxuICAgIHdpZHRoOjEuNWVtO1xyXG4gICAgaGVpZ2h0OjJlbTtcclxuICAgICAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xyXG4gICAgYmFja2dyb3VuZC1zaXplOiAxMDAlIDEwMCU7XHJcbn1cclxuXHJcbiNjYXRze21hcmdpbi1yaWdodDo1JX1cclxuXHJcblxyXG4uc2hvd0J1dHRvbntcclxuICAgIGJhY2tncm91bmQtY29sb3I6YmxhY2s7XHJcbiAgICBjb2xvcjp3aGl0ZTtcclxuICAgIG9wYWNpdHk6MC41O1xyXG4gICAgICB3aWR0aDoyZW07XHJcbiAgICBoZWlnaHQ6MmVtO1xyXG59XHJcblxyXG4uaGlkZUJ1dHRvbntcclxuICAgIGJhY2tncm91bmQtY29sb3I6YmxhY2s7XHJcbiAgICBjb2xvcjpibGFjaztcclxuICAgIHdpZHRoOjJlbTtcclxuICAgIGhlaWdodDoyZW07XHJcbn1cclxuXHJcblxyXG4uY2F0ZWdvcnlTd2l0Y2h7XHJcbiBtYXJnaW4tbGVmdDoxZW07XHJcbiAgICBwYWRkaW5nLWxlZnQ6MC41ZW07XHJcbiAgICBib3JkZXItbGVmdDogMnB4IHNvbGlkIHdoaXRlO1xyXG59XHJcblxyXG5cclxuLmljb25CdXR0b257XHJcbiAgICBib3JkZXItcmFkaXVzOiAwLjJlbTtcclxuICAgIGJvcmRlcjoycHggb3V0c2V0IHJnYigyMCwyMCwyMCk7XHJcbiAgICB3aWR0aDozZW07XHJcbiAgICBoZWlnaHQ6M2VtO1xyXG4gICAgbWFyZ2luOjAuMjVlbTtcclxuICAgICBiYWNrZ3JvdW5kLXNpemU6IDEwMCUgMTAwJTtcclxuICAgIHRyYW5zaXRpb24gOiBiYWNrZ3JvdW5kLWltYWdlIDFzIGVhc2Utb3V0O1xyXG4gIFxyXG59XHJcblxyXG5cclxuLmljb25fYmFja3tcclxuICAgIGJhY2tncm91bmQtaW1hZ2U6dXJsKFwiL2Fzc2V0cy9pbWFnZXMvaWNvbnMvcmV0dXJudjIucG5nXCIpO1xyXG59XHJcblxyXG5cclxuLmljb25faG9tZXtcclxuICAgIGJhY2tncm91bmQtaW1hZ2U6dXJsKFwiL2Fzc2V0cy9pbWFnZXMvaWNvbnMvaG9tZSUyMGtleSUyMGJsdWUucG5nXCIpO1xyXG59XHJcblxyXG4uaWNvbl9ob21lOmhvdmVye1xyXG4gICAgYmFja2dyb3VuZC1pbWFnZTp1cmwoXCIvYXNzZXRzL2ltYWdlcy9pY29ucy9ob21lJTIweWVsbG93LnBuZ1wiKTtcclxufVxyXG5cclxuXHJcblxyXG4uU2NyaXB0e1xyXG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCcvYXNzZXRzL2ltYWdlcy9pY29ucy9zY3JpcHQgYmx1ZS5wbmcnKTtcclxufVxyXG5cclxuLlNjcmlwdF9vbntcclxuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnL2Fzc2V0cy9pbWFnZXMvaWNvbnMvc2NyaXB0IHllbGxvdy5wbmcnKTtcclxufVxyXG5cclxuLlRleHR7XHJcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJy9hc3NldHMvaW1hZ2VzL2ljb25zL3RleHQgYmx1ZS5wbmcnKTtcclxufVxyXG5cclxuLlRleHRfb257XHJcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJy9hc3NldHMvaW1hZ2VzL2ljb25zL3RleHQgeWVsbG93LnBuZycpO1xyXG59XHJcblxyXG4uQXV0aG9ye1xyXG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCcvYXNzZXRzL2ltYWdlcy9pY29ucy9hdXRob3IgYmx1ZS5wbmcnKTtcclxufVxyXG5cclxuLkF1dGhvcl9vbntcclxuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnL2Fzc2V0cy9pbWFnZXMvaWNvbnMvYXV0aG9yIHllbGxvdy5wbmcnKTtcclxufVxyXG5cclxuLk1hdGVyaWFse1xyXG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCcvYXNzZXRzL2ltYWdlcy9pY29ucy9tYXRlcmlhbCBibHVlLnBuZycpO1xyXG59XHJcblxyXG4uTWF0ZXJpYWxfb257XHJcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJy9hc3NldHMvaW1hZ2VzL2ljb25zL21hdGVyaWFsIHllbGxvdy5wbmcnKTtcclxufVxyXG5cclxuXHJcbi5DaXR5LCAuUmVnaW9ue1xyXG4gICAgYmFja2dyb3VuZC1pbWFnZTp1cmwoXCIvYXNzZXRzL2ltYWdlcy9pY29ucy9tYXAlMjBibHVlLnBuZ1wiKTtcclxufVxyXG5cclxuLkNJdHlfb24sIC5SZWdpb25fb257XHJcbiAgICBiYWNrZ3JvdW5kLWltYWdlOnVybChcIi9hc3NldHMvaW1hZ2VzL2ljb25zL21hcCUyMHllbGxvdy5wbmdcIik7XHJcbn0iXX0= */\"","module.exports = \"<div id=\\\"wrapper\\\">\\n    <div id=\\\"zoom\\\" role=\\\"group\\\" aria-label=\\\"Manuscript zoom\\\">\\n         <button  id=\\\"zoomIn\\\" (click)=\\\"zoomChng(0.1)\\\" class=\\\"iconButton\\\">+</button>\\n        <button  cid=\\\"zoomOut\\\" (click)=\\\"zoomChng(-0.1)\\\" class=\\\"iconButton\\\">-</button>\\n         <button  (click)=\\\"goBack(1)\\\"  class=\\\"iconButton icon_back\\\"> </button>\\n        <button  (click)=\\\"navigate('aquila_v','0,2')\\\" class=\\\"iconButton icon_home\\\"></button>\\n    </div>\\n    \\n    <div id=cats>\\n        <ng-container  *ngFor=\\\"let zc of zoneCategories\\\">\\n            <button  class=\\\"iconButton\\\" (click)=\\\"zc.selected=!zc.selected; selectionChng()\\\" [ngClass]=\\\"zc.selected ? zc.name+'_on':zc.name\\\" ></button>\\n        </ng-container>\\n     </div>\\n</div>  \\n\\n\\n\"","import { Component, OnInit, Output, Input, EventEmitter } from '@angular/core';\nimport { ZoneCategory } from '../interfaces/zone-category';\nimport {  Router } from '@angular/router';\nimport { NavigationService } from '../services/navigation.service';\n\n@Component({\n  selector: 'app-canvas-controls',\n  templateUrl: './canvas-controls.component.html',\n  styleUrls: ['./canvas-controls.component.css']\n})\nexport class CanvasControlsComponent implements OnInit {\n\n    @Output() changeZoom = new EventEmitter<number>(); \n    @Output() changeSelection = new EventEmitter<any>(); \n    @Output() changeOpacity = new EventEmitter<any>(); \n     @Input(\"zoom\") zoom : number;\n     @Input(\"fitZoom\") fitZoom : number;\n     @Input(\"opacityRatio\") opacityRatio : number;\n     @Input(\"zoneCategories\") zoneCategories : ZoneCategory[];\n    \n    catColors : any = {Content: \"yellow\", Script : \"red\"};\n    \n  constructor(private router : Router, private navigation : NavigationService) { }\n\n  ngOnInit() {\n  }\n    \n    zoomChng(value){\n        this.changeZoom.emit(value);\n        \n    }\n    \n    selectionChng(){\n        \n        let selected = {};\n        this.zoneCategories.forEach((zc)=>selected[zc.name] = zc.selected);\n        \n        this.changeSelection.emit(selected);\n        \n    }\n    \n     opacityChng(e){\n        console.log(e.srcElement.value);\n          this.changeOpacity.emit(e.srcElement.value);\n         \n    }\n    \n    navigate(set, part){\n        console.log(\"going to map\");\n        this.router.navigate(['interaction/'+set+'/'+part])\n    }\n    \n    goBack(i){\n        this.navigation.goBack(i);\n    }\n    \n    \n\n}\n","module.exports = \"*{box-sizing:boder-box}\\r\\n\\r\\n#msCanvas, manuscript{-webkit-transition:-webkit-transform .5s;transition:-webkit-transform .5s;transition:transform .5s;transition:transform .5s, -webkit-transform .5s; -webkit-transition: background-image .5x; transition: background-image .5x; -webkit-transform-origin:center center; transform-origin:center center}\\r\\n\\r\\n#msCanvas,#interactiveCanvas, #animationCanvas{position:absolute;-webkit-transform-origin:top left;transform-origin:top left;-webkit-transition:background-color 1s, -webkit-transform .5s;transition:background-color 1s, -webkit-transform .5s;transition:transform .5s, background-color 1s;transition:transform .5s, background-color 1s, -webkit-transform .5s; \\r\\n}\\r\\n\\r\\n#msWrapper{position:absolute;\\r\\n    overflow:scroll;\\r\\nscroll-behavior: smooth;\\r\\nbackground-color: rgb(20,20,20);\\r\\n  /*  background-image:url(\\\"https://www.draconica.net/ft2019/wp-content/uploads/sites/21/2019/02/bg3.jpg\\\");*/\\r\\nwidth: 98%;\\r\\nheight: 98%;\\r\\nmargin: 0.1em;\\r\\n-webkit-transition: -webkit-transform 2s ease-out;\\r\\ntransition: -webkit-transform 2s ease-out;\\r\\ntransition: transform 2s ease-out;\\r\\ntransition: transform 2s ease-out, -webkit-transform 2s ease-out;\\r\\n}\\r\\n\\r\\napp-canvas-controls{\\r\\n    background-color:transparent;\\r\\n    width:100%;\\r\\n    height:5%;\\r\\n    position:fixed;\\r\\n    top:0;\\r\\n    left:0.5%;\\r\\n    color:white;\\r\\n}\\r\\n\\r\\n#manuscript{border: 1px solid black;\\r\\nwidth: 100%;\\r\\nheight: 100%;\\r\\nposition: absolute;\\r\\n    background-color:black;\\r\\nleft:0%;\\r\\ntop:0}\\r\\n\\r\\nh1{\\r\\n       position: absolute;\\r\\n    top: 6%;\\r\\n    left: 0;\\r\\n    width: 100%;\\r\\n    text-align: center;\\r\\n    margin: 0;\\r\\n    color: transparent;\\r\\n    -webkit-transition:color 1s;\\r\\n    transition:color 1s;\\r\\n}\\r\\n\\r\\nh1:hover{\\r\\n    color:black;\\r\\n}\\r\\n\\r\\n/* CUSTOM SCROLLBAR */\\r\\n\\r\\n::-webkit-scrollbar {\\r\\n    width: 11px;\\r\\n    height: 11px;\\r\\n}\\r\\n\\r\\n::-webkit-scrollbar-button {\\r\\n    width: 0px;\\r\\n    height: 0px;\\r\\n}\\r\\n\\r\\n::-webkit-scrollbar-thumb {\\r\\n    background: rgb(20,20,20);\\r\\n    border: 2px solid #ffffff;\\r\\n    border-radius: 50px;\\r\\n}\\r\\n\\r\\n::-webkit-scrollbar-thumb:hover {\\r\\n    background: #ffffff;\\r\\n}\\r\\n\\r\\n::-webkit-scrollbar-thumb:active {\\r\\n    background: #000000;\\r\\n}\\r\\n\\r\\n::-webkit-scrollbar-track {\\r\\n    background: rgb(20,20,20);\\r\\n    border: 0px none #ffffff;\\r\\n    border-radius: 39px;\\r\\n}\\r\\n\\r\\n::-webkit-scrollbar-track:hover {\\r\\n    background: rgb(20,20,20);\\r\\n}\\r\\n\\r\\n::-webkit-scrollbar-track:active {\\r\\n    background: rgb(20,20,20);\\r\\n}\\r\\n\\r\\n::-webkit-scrollbar-corner {\\r\\n    background: transparent;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2NhbnZhcy9jYW52YXMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxFQUFFLG9CQUFvQjs7QUFFdEIsc0JBQXNCLHdDQUF3QixDQUF4QixnQ0FBd0IsQ0FBeEIsd0JBQXdCLENBQXhCLCtDQUF3QixFQUFFLHdDQUFnQyxFQUFoQyxnQ0FBZ0MsRUFBRSxzQ0FBNkIsRUFBN0IsOEJBQThCOztBQUdoSCwrQ0FBK0MsaUJBQWlCLENBQUMsaUNBQXlCLENBQXpCLHlCQUF5QixDQUFDLDZEQUE2QyxDQUE3QyxxREFBNkMsQ0FBN0MsNkNBQTZDLENBQTdDLG9FQUE2QztBQUN4STs7QUFDQSxXQUFXLGlCQUFpQjtJQUN4QixlQUFlO0FBQ25CLHVCQUF1QjtBQUN2QiwrQkFBK0I7RUFDN0IsMEdBQTBHO0FBQzVHLFVBQVU7QUFDVixXQUFXO0FBQ1gsYUFBYTtBQUNiLGlEQUFpQztBQUFqQyx5Q0FBaUM7QUFBakMsaUNBQWlDO0FBQWpDLGdFQUFpQztBQUNqQzs7QUFJQTtJQUNJLDRCQUE0QjtJQUM1QixVQUFVO0lBQ1YsU0FBUztJQUNULGNBQWM7SUFDZCxLQUFLO0lBQ0wsU0FBUztJQUNULFdBQVc7QUFDZjs7QUFFQSxZQUFZLHVCQUF1QjtBQUNuQyxXQUFXO0FBQ1gsWUFBWTtBQUNaLGtCQUFrQjtJQUNkLHNCQUFzQjtBQUMxQixPQUFPO0FBQ1AsS0FBSzs7QUFFTDtPQUNPLGtCQUFrQjtJQUNyQixPQUFPO0lBQ1AsT0FBTztJQUNQLFdBQVc7SUFDWCxrQkFBa0I7SUFDbEIsU0FBUztJQUNULGtCQUFrQjtJQUNsQiwyQkFBbUI7SUFBbkIsbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksV0FBVztBQUNmOztBQUNBLHFCQUFxQjs7QUFFckI7SUFDSSxXQUFXO0lBQ1gsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLFVBQVU7SUFDVixXQUFXO0FBQ2Y7O0FBRUE7SUFDSSx5QkFBeUI7SUFDekIseUJBQXlCO0lBQ3pCLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLHlCQUF5QjtJQUN6Qix3QkFBd0I7SUFDeEIsbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0kseUJBQXlCO0FBQzdCOztBQUVBO0lBQ0kseUJBQXlCO0FBQzdCOztBQUVBO0lBQ0ksdUJBQXVCO0FBQzNCIiwiZmlsZSI6Ii4uL2NhbnZhcy9jYW52YXMuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIip7Ym94LXNpemluZzpib2Rlci1ib3h9XHJcblxyXG4jbXNDYW52YXMsIG1hbnVzY3JpcHR7dHJhbnNpdGlvbjp0cmFuc2Zvcm0gLjVzOyB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWltYWdlIC41eDsgdHJhbnNmb3JtLW9yaWdpbjpjZW50ZXIgY2VudGVyfVxyXG5cclxuXHJcbiNtc0NhbnZhcywjaW50ZXJhY3RpdmVDYW52YXMsICNhbmltYXRpb25DYW52YXN7cG9zaXRpb246YWJzb2x1dGU7dHJhbnNmb3JtLW9yaWdpbjp0b3AgbGVmdDt0cmFuc2l0aW9uOnRyYW5zZm9ybSAuNXMsIGJhY2tncm91bmQtY29sb3IgMXM7IFxyXG59XHJcbiNtc1dyYXBwZXJ7cG9zaXRpb246YWJzb2x1dGU7XHJcbiAgICBvdmVyZmxvdzpzY3JvbGw7XHJcbnNjcm9sbC1iZWhhdmlvcjogc21vb3RoO1xyXG5iYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjAsMjAsMjApO1xyXG4gIC8qICBiYWNrZ3JvdW5kLWltYWdlOnVybChcImh0dHBzOi8vd3d3LmRyYWNvbmljYS5uZXQvZnQyMDE5L3dwLWNvbnRlbnQvdXBsb2Fkcy9zaXRlcy8yMS8yMDE5LzAyL2JnMy5qcGdcIik7Ki9cclxud2lkdGg6IDk4JTtcclxuaGVpZ2h0OiA5OCU7XHJcbm1hcmdpbjogMC4xZW07XHJcbnRyYW5zaXRpb246IHRyYW5zZm9ybSAycyBlYXNlLW91dDtcclxufVxyXG5cclxuXHJcblxyXG5hcHAtY2FudmFzLWNvbnRyb2xze1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtcclxuICAgIHdpZHRoOjEwMCU7XHJcbiAgICBoZWlnaHQ6NSU7XHJcbiAgICBwb3NpdGlvbjpmaXhlZDtcclxuICAgIHRvcDowO1xyXG4gICAgbGVmdDowLjUlO1xyXG4gICAgY29sb3I6d2hpdGU7XHJcbn1cclxuXHJcbiNtYW51c2NyaXB0e2JvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xyXG53aWR0aDogMTAwJTtcclxuaGVpZ2h0OiAxMDAlO1xyXG5wb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOmJsYWNrO1xyXG5sZWZ0OjAlO1xyXG50b3A6MH1cclxuXHJcbmgxe1xyXG4gICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiA2JTtcclxuICAgIGxlZnQ6IDA7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIG1hcmdpbjogMDtcclxuICAgIGNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgIHRyYW5zaXRpb246Y29sb3IgMXM7XHJcbn1cclxuXHJcbmgxOmhvdmVye1xyXG4gICAgY29sb3I6YmxhY2s7XHJcbn1cclxuLyogQ1VTVE9NIFNDUk9MTEJBUiAqL1xyXG5cclxuOjotd2Via2l0LXNjcm9sbGJhciB7XHJcbiAgICB3aWR0aDogMTFweDtcclxuICAgIGhlaWdodDogMTFweDtcclxufVxyXG5cclxuOjotd2Via2l0LXNjcm9sbGJhci1idXR0b24ge1xyXG4gICAgd2lkdGg6IDBweDtcclxuICAgIGhlaWdodDogMHB4O1xyXG59XHJcblxyXG46Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHtcclxuICAgIGJhY2tncm91bmQ6IHJnYigyMCwyMCwyMCk7XHJcbiAgICBib3JkZXI6IDJweCBzb2xpZCAjZmZmZmZmO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNTBweDtcclxufVxyXG5cclxuOjotd2Via2l0LXNjcm9sbGJhci10aHVtYjpob3ZlciB7XHJcbiAgICBiYWNrZ3JvdW5kOiAjZmZmZmZmO1xyXG59XHJcblxyXG46Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iOmFjdGl2ZSB7XHJcbiAgICBiYWNrZ3JvdW5kOiAjMDAwMDAwO1xyXG59XHJcblxyXG46Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHtcclxuICAgIGJhY2tncm91bmQ6IHJnYigyMCwyMCwyMCk7XHJcbiAgICBib3JkZXI6IDBweCBub25lICNmZmZmZmY7XHJcbiAgICBib3JkZXItcmFkaXVzOiAzOXB4O1xyXG59XHJcblxyXG46Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrOmhvdmVyIHtcclxuICAgIGJhY2tncm91bmQ6IHJnYigyMCwyMCwyMCk7XHJcbn1cclxuXHJcbjo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2s6YWN0aXZlIHtcclxuICAgIGJhY2tncm91bmQ6IHJnYigyMCwyMCwyMCk7XHJcbn1cclxuXHJcbjo6LXdlYmtpdC1zY3JvbGxiYXItY29ybmVyIHtcclxuICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xyXG59XHJcbiJdfQ== */\"","module.exports = \"\\n     \\n<div id=manuscript [style.width]=height  #manuscript>\\n    \\n  \\n    \\n            <div id=\\\"msWrapper\\\" #msWrapper [style.overflow]=\\\"mode=='interaction' ? 'scroll':'hidden'\\\" >\\n                \\n          <canvas #msCanvas id=msCanvas [style.opacity]=1 [attr.width]=\\\"imgData.width\\\" [attr.height]=\\\"imgData.height\\\" style=\\\"border:2px solid black;\\n            background-color:transparent'); background-image:url('')\\\" draggable ></canvas>\\n                <canvas #animationCanvas id=animationCanvas  [attr.width]=\\\"imgData.width\\\" [attr.height]=\\\"imgData.height\\\" style=\\\"border:2px solid black;\\n            background-color:transparent'); background-image:url('')\\\" draggable ></canvas>\\n             <canvas #interactiveCanvas  [style.opacity]=1 id=interactiveCanvas  [attr.width]=\\\"imgData.width\\\" [attr.height]=\\\"imgData.height\\\"  style=\\\"border:2px solid black;\\n            background-color:transparent'); background-image:url('')\\\" draggable (document:mousemove)=\\\"locatePolygon($event, ctx, false)\\\" (click)=\\\"locatePolygon($event, ctx, true)\\\">\\n                   \\n                </canvas>    \\n            <app-canvas-controls *ngIf=\\\"mode=='interaction'\\\" [opacityRatio]=opacityRatio [zoom]=\\\"zoom\\\" [fitZoom]=\\\"fitZoom\\\" [zoneCategories]=\\\"zoneCategories\\\" (changeZoom)=\\\"zoomChng($event)\\\" (changeSelection)=\\\"redrawSelected($event)\\\"  (changeOpacity)=\\\"opacityChng($event)\\\" ></app-canvas-controls>\\n                 \\n                \\n                 <app-magic-glass [fontSize]=\\\"imgData.fontSize\\\" [infoWindow]=infoWindow [manuscript]=animation #magicglass></app-magic-glass>\\n               \\n            </div>\\n     \\n  \\n    \\n      </div>  \\n \\n\\n   \"","import { Component, OnInit, AfterViewInit, ViewChild, Input, Output, EventEmitter, OnChanges } from '@angular/core';\nimport { DrawingSvc } from '../services/drawing.service';\nimport { ImgData } from '../interfaces/img-data';\nimport { SlideConfig } from '../interfaces/slide-config';\nimport { Point } from '../interfaces/point';\nimport { ZoneCategory } from '../interfaces/zone-category';\nimport { Zone } from '../classes/zone';\n\n\n\n@Component({\n  selector: 'app-canvas',\n  templateUrl: './canvas.component.html',\n  styleUrls: ['./canvas.component.css'],\n    providers:[DrawingSvc]\n})\nexport class CanvasComponent implements OnInit, OnChanges, AfterViewInit {\n    @ViewChild(\"magicglass\") magicGlass;\n    @ViewChild(\"msWrapper\") wrapper;\n    @ViewChild(\"manuscript\") outer;\n    @ViewChild(\"msCanvas\") canvas;\n    @ViewChild(\"interactiveCanvas\") interaction;\n    @ViewChild(\"animationCanvas\") animation;\n    @ViewChild(\"les\") les;\n    @Input(\"zones\") zones: any;\n    @Input(\"zoneCategories\") zoneCategories : any;\n    @Input(\"imgData\") imgData: ImgData;\n    @Input(\"mode\") mode: string;\n   startTime: number = Date.now();\n    @Input(\"slideConfig\") slideConfig: SlideConfig;\n    @Input(\"top\") top: string;\n    @Input(\"height\") height: string;\n    @Input(\"infoWindow\") infoWindow: string;\n   // @Input(\"slideZoom\") slideZoom: number;\n    @Output() clicked = new EventEmitter<string>();\n    drawing : DrawingSvc;\n    title: string;\n    bgImage: string;\n    zoom:number;\n    fitZoom : number;\n    selectedZone : Zone;\n    displayedZones : Zone[] = [];\n    ctx: any;\n    interCtx: any;\n    animCtx: any;\n    \n    opacityRatio:number = 1;\n    \n    \n\n  constructor (private _drawingSvc : DrawingSvc) { \n   this.zoom=1;\n    this.fitZoom = 0.4;\n      \n\n  }\n    \n\nngOnInit() {\n\nthis.magicGlass.transcription=\"\";\n        \n  }    \n    \n    \n    ngAfterViewInit(){\n\n    this.ctx=this.canvas.nativeElement.getContext(\"2d\");\n     this.interCtx=this.interaction.nativeElement.getContext(\"2d\");\n      this.animCtx=this.animation.nativeElement.getContext(\"2d\");\n         //  let zones = this.zones.filter((z)=>z.category==\"zem\");\n          this.displayedZones = this.zones;\n\n        if(this.displayedZones){\n             this.processZones(this.displayedZones);\n        }\n     this._drawingSvc.runAnimations(this.ctx,this.animCtx, this.animation, this.zoom,Date.now(), 5000);\n                     }\n    \n\n ngOnChanges() {\n\n\n\n     if(this.imgData){\n           this.bgImage=this.imgData.url;\n    this.canvas.nativeElement.style.backgroundImage=\"url(\"+this.bgImage+\")\";\n        //  this.interaction.nativeElement.style.backgroundImage=\"url(\"+this.imgData.url2+\")\";\n     this.zoom=this.calcZoomToFit();\n    this.fitZoom=this.zoom;\n     this.scaleCanvas([this.canvas, this.interaction, this.animation],this.wrapper, this.outer,this.zoom, this.fitZoom,{x:0,y:0});\n     \n     }\n   \n  \n     \n  if(this.ctx && this.interCtx && this.animCtx){\n   this.displayedZones = this.zones;\n        if(this.displayedZones){\n             this.processZones(this.displayedZones);\n        }\n  }\n  }\n   \n    \nprocessZones(zones){\n    \n\n    if(this.mode==\"interaction\"){\n        this.ctx.clearRect(0,0,this.canvas.nativeElement.width,this.canvas.nativeElement.height);\n    }\n    \n     this.animCtx.clearRect(0,0,this.interaction.nativeElement.width,this.interaction.nativeElement.height);\n    this._drawingSvc.animations=[];\n     \n   zones.forEach((zone)=>{\n\n\n        \n      \n               \n if(this.mode!=\"preview\"){\n       zone.draw(this.ctx);\n }\n this._drawingSvc.animations=this._drawingSvc.animations.concat(zone.addToAnimations(this.canvas, this.zoom));\n \n              \n           \n        \n    });\n     \nif(this._drawingSvc.animations.length>0){\n    \n    // this.canvas.nativeElement.style.transition=\"transform \"+this.slideConfig.duration/1000+\"s\";\n    // this.interaction.nativeElement.style.transition=\"transform \"+this.slideConfig.duration/1000+\"s\";\n    // this.animation.nativeElement.style.transition=\"transform \"+this.slideConfig.duration/1000+\"s\";\n    \n    // this.scaleCanvas([this.canvas,  this.animation], this.wrapper, this.outer, this.fitZoom*this.slideConfig.zoom, this.fitZoom, this.slideConfig.translate);\n    \n\n\n    this._drawingSvc.animationStage=0;\n    //this.zoomChng(0.2);\n\n    let ref = this;\n    \n     \n    \n          \n \n  \n    \n}  \n    \n  \n   \n    \n    \n}    \n   \n    \n locatePolygon(mouse, ctx, display) {\n     if(this.mode==\"interaction\" && this.displayedZones){\n           var rZone;\n         let ref = this;\n         //z.cat!=\"movement\" && \n  this.displayedZones.filter((z)=>(z!=ref.selectedZone && z.category!=\"Mrak\")).forEach(function(zone, zid) {\n\n    //let points = zone.points;\n\n    let points = zone.fingerCoords;\n      \n    ctx.beginPath();\n    ctx.moveTo(points[0].x, points[0].y);\n\n\n\n    for (let p = 1; p < points.length; p++) {\n      ctx.lineTo(points[p].x, points[p].y);\n    }\n\n    ctx.closePath();\n\n    if (ctx.isPointInPath(mouse.offsetX, mouse.offsetY)) {\n      rZone = zone;\n\n\n    }\n\n  });\n     if(rZone){\n\n        \n     this.interCtx.clearRect(0,0,this.interaction.nativeElement.width,this.interaction.nativeElement.height);\n    // this._drawingSvc.drawPolygon(this.interCtx, rZone.points,\"highlight\");\n  \n    rZone.highlight(this.interCtx);\n\n        \n     if(display==true){\n\n           \n            this.clicked.emit(rZone); \n             this.focusOn(rZone); \n             this.selectedZone = rZone;\n     } \n     }else{\n           if(display==true){\n      this.zoomChng(this.fitZoom-this.zoom);\n     } \n     }\n\n  \n     }\n\n\n\n}\n    \ncalcZoomToFit(){\n\n\n\n    let wrapperWidth=this.wrapper.nativeElement.offsetWidth;\n    let wrapperHeight=this.wrapper.nativeElement.offsetHeight;\n    \n\n    \n    let ratioX=parseInt(wrapperWidth)/parseInt(this.imgData.width);\n    let ratioY=parseInt(wrapperHeight)/parseInt(this.imgData.height);\n    \n\n    \n    if(ratioX<=ratioY){\n\n        return ratioX;\n    }else{\n        return ratioY;\n    }\n}\n    \n    \nzoomChng(zChng) {\n    this.magicGlass.hideFrame();\n\n\n  let newZoomLevel = this.zoom + parseFloat(zChng);\n  this.zoom = newZoomLevel >= .1 ? newZoomLevel : .1;\n\n    this.scaleCanvas([this.canvas, this.interaction, this.animation], this.wrapper, this.outer, this.zoom, this.fitZoom,{x:0,y:0});\n\n\n}\n    \n    moveInTime(year) {\n\n\nthis.canvas.nativeElement.style.opacity=1;\nthis.interaction.nativeElement.style.opacity=0;\n        \n   // this.displayedZones = this.zones.filter((z)=>year>=z.startDate && year<=z.endDate);\n//    this.processZones(this.displayedZones);\n    \n}\n    \n    \nredrawSelected(e){\n\n    this.displayedZones = this.zones.filter((z)=>e[z.category]==true);\n    this.processZones(this.displayedZones);\n}    \n    \n\n    \n    scaleCanvas(canvases, inner, outer, zoom, fitZoom, translate){\n\n      \nlet dw=parseInt(outer.nativeElement.style.width);   // manuscript element\nlet dh=parseInt(outer.nativeElement.style.height);   \n    \n    \nlet nw : number=parseInt(this.imgData.width)*zoom;    \nlet nh : number=parseInt(this.imgData.height)*zoom;  \n    \n        let ref=this;\n    canvases.forEach(function(c){\n        let shift=\" \";\n        if(zoom<fitZoom){\n          //c.nativeElement.style[\"transform-origin\"]= \"center center\";  \n            shift=\" translate(500px, 500px)\";\n        }else{\n            c.nativeElement.style[\"transform-origin\"]= \"top left\"; \n        }\n        \n        c.nativeElement.style.transform= \"scale(\" + zoom + \",\" + zoom + \") translate(\"+translate.x+\"px,\"+translate.y+\"px)\";\n        \n        \n         if(nw<dw && nh<dh)\n        {\n       c.nativeElement.style.overflow=\"hidden\";\n        }\n    else\n           {\n            c.nativeElement.style.overflow=\"scroll\";\n        }\n        \n    });\n    \n\n   \n    \n\n inner.nativeElement.style.width=nw;\n  inner.nativeElement.style.height=nh;\n       \n        \n} \n    \n  focusOn(zone){\n\n         \n    let xtr=zone.imgCoords;\n    \n    let sx=xtr.max.x-xtr.min.x;\n    let sy=xtr.max.y-xtr.min.y;\n    \n    let vw=this.outer.nativeElement.clientWidth;\n    let vh=this.outer.nativeElement.clientHeight;\n      \n\n    \n    let ox=(vw-sx)/2;\n    let oy=(vh-sy)/2;\n      let nzm: number;\n      \n    if(ox<oy){\n        nzm = vw/sx*0.7;\n    }else{\n         nzm = vh/sy*0.7;\n    }\n  \n\n\n       let ref=this;\n      \n//ref.moveScreen(xtr,ox,oy, nzm, zone);\n    \n    this.zoomChng(nzm-this.zoom);\n     // ref.moveScreen(xtr,ox,oy, nzm, zone);\n     \n\n   setTimeout(function(){ref.moveScreen(xtr,ox,oy, nzm, zone)},500);\n                };\n    \nmoveScreen(xy, ox, oy, nzm, zone) {\n\n//-((xy.max.x-xy.min.y/3)*nzm)\n//-((xy.max.y-xy.min.y/3)*nzm)\n    var x=Math.max(0,(xy.min.x*nzm-((xy.max.x-xy.min.x)/6*nzm) ));\n    var y=Math.max(0,(xy.min.y*nzm-((xy.max.y-xy.min.y)/6*nzm)));\n\n\n\n\n\n // this.wrapper.nativeElement.scrollTop = y;\n  //this.wrapper.nativeElement.scrollLeft = x;\n    this.wrapper.nativeElement.scroll(x,y);\n     zone.activate(this.ctx,this.magicGlass, nzm);\n    let ref = this;\n   // this.canvas.nativeElement.removeEventListener(\"transitionend\", ref.moveScreen);\n           // this.displayedZones = this.zones.filter((z)=>z.word!=zone.word);\n      //this.processZones(this.displayedZones);\n\n\n}\n  \n  \n    \n\n}\n\n\n","import { DrawingSettings } from '../interfaces/drawing-settings';\r\nimport { Point } from '../interfaces/point';\r\nimport { TransformSettings } from '../interfaces/transform-settings';\r\n\r\nimport { DrawingSvc } from '../services/drawing.service';\r\n\r\n\r\nvar settingsDict={Script:\"region_green\", Author:\"region_blue\", Discovery:\"region_yellow\", Text:\"region_white\", Material:\"region_purple\", Region:\"region_purple\", City:\"region_yellow\"};\r\nvar iconSize = 100;\r\n\r\n\r\nexport class Zone {\r\n    drawing : DrawingSvc  = new DrawingSvc();\r\n    word: string;\r\n    category: string;\r\n    \r\n    title : string;\r\n    description: string;\r\n    image: string;\r\n    music: string;\r\n    comment: string;\r\n    \r\n    img : any;\r\n    source : string;\r\n    \r\n    points: Point[]; \r\n    imgCoords : any;\r\n    fingerCoords : Point[];\r\n    drawingSetting: string;\r\n    static: boolean;\r\n    \r\n    offset? : number;\r\n    duration? : number;\r\n    \r\n    startDate : number;\r\n    endDate : number;\r\n    \r\n    visited : boolean = false;\r\n    \r\n    \r\n    constructor(slide){\r\n\r\n        this.static = true;\r\n        this.word = slide.word;\r\n        this.category = slide.cat;\r\n        \r\n        this.title = slide.fields.title.value;\r\n        this.image=slide.fields.image.value;\r\n        this.description = slide.fields.text.value;\r\n        this.music = slide.fields.video.value;\r\n       // this.comment = slide.fields.comment.value;\r\n        \r\n        this.points=this.drawing.stringToPath(slide.shape);\r\n        this.imgCoords=this.calcImgCoords(this.points); \r\n         this.fingerCoords=this.calcFingerCoords(); \r\n\r\n        \r\n     //   let timeSpan = slide.fields.timeSpan.value.split(\"-\");\r\n        \r\n      //  this.startDate=timeSpan[0];\r\n    //    this.endDate=timeSpan[1];\r\n        \r\n            this.drawingSetting = settingsDict[slide.cat];\r\n      \r\n       \r\n             if(slide.fields.image.value){\r\n            this.img=new Image();\r\n                this.img.src=slide.fields.image.value;\r\n\r\n           //this.source=slide.fields.icon.value;\r\n           \r\n            }\r\n        \r\n\r\n        \r\n    }\r\n    \r\n  \r\n    \r\n\r\n    calcFingerCoords(){\r\n        let a = {x:this.imgCoords.topLeft.x, y:this.imgCoords.topLeft.y};\r\n        let b = {x:this.imgCoords.topLeft.x+iconSize, y:this.imgCoords.topLeft.y};\r\n        let c = {x:this.imgCoords.topLeft.x+iconSize, y:this.imgCoords.topLeft.y+iconSize};\r\n        let d = {x:this.imgCoords.topLeft.x, y:this.imgCoords.topLeft.y+iconSize};\r\n        \r\n        return [a,b,c,d];\r\n    }\r\n    \r\n    \r\n    \r\n    \r\n     calcImgCoords(points){\r\n        let xs=points.map((p)=>p.x);\r\n        let ys=points.map((p)=>p.y);\r\n        \r\n        let minX=this.myArrayMin(xs);\r\n        let minY=this.myArrayMin(ys);\r\n        \r\n        let maxX=this.myArrayMax(xs);\r\n        let maxY=this.myArrayMax(ys);\r\n        \r\n      return {topLeft:{x:minX, y:minY}, width:maxX-minX, height:maxY-minY, min:{x:minX, y:minY}, max:{x:maxX, y:maxY}}\r\n    }\r\n    \r\n        myArrayMin(arr) {\r\n  return Math.min.apply(null, arr);\r\n}\r\n  \r\n    myArrayMax(arr) {\r\n  return Math.max.apply(null, arr);\r\n}\r\n    \r\n    \r\n    \r\n    \r\n    \r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport class Icon extends Zone {\r\n    \r\n    position: any;\r\n    img : any;\r\n    source : string;\r\n    animationPath : any;\r\n    \r\n    constructor(slide){\r\n        super(slide);\r\n      \r\n        \r\n           this.position=this.imgCoords.topLeft;\r\n            this.img=new Image();\r\n                this.img.src=\"assets/images/\"+slide.fields.icon.value;\r\n\r\n           this.source=slide.fields.icon.value;\r\n        \r\n        if(slide.fields.path.value){\r\n            let pathPoints = this.drawing.stringToPath(slide.fields.path.value);\r\n            this.animationPath = this.drawing.calcAnimationPath(this.imgCoords.topLeft, pathPoints);\r\n        }\r\n        \r\n    }\r\n    \r\n    draw(ctx){\r\n        this.drawing.drawImage(ctx, this);\r\n\r\n    }\r\n    \r\n    \r\n    addToAnimations(canvas, zoom){\r\n\r\n       return [this];\r\n    }\r\n    \r\n    animate(ctx, stage, canvas, zoom){\r\n\r\n         ctx.save();\r\n        \r\n        this.draw(ctx);\r\n         ctx.restore();\r\n     \r\n    }\r\n    \r\n    \r\n\r\n    \r\n    \r\n}\r\n\r\nexport class Region extends Zone {\r\n\r\noffset : number = 0;\r\nduration : number = 8000;\r\n    \r\n    constructor(slide, imgData){\r\n        super(slide);\r\n\r\n        \r\n    }\r\n        \r\n\r\n    draw(ctx){\r\n\r\n         this.drawing.applySetting(ctx, this.drawingSetting);\r\n        this.drawing.drawPolygon(ctx, this.points, this.drawingSetting);\r\n    }\r\n    \r\n\r\n    \r\n        addToAnimations(canvas, zoom){\r\n\r\n       return [this];\r\n    }\r\n    \r\n    animate(ctx, stage, canvas, zoom){\r\n\r\n         ctx.save();\r\n        this.drawing.applySetting(ctx, this.drawingSetting);\r\n        ctx.globalAlpha=stage;\r\n        this.draw(ctx);\r\n         ctx.restore();\r\n    }\r\n    \r\n\r\n    \r\n       activate(ctx, component, zoom){\r\n\r\n\r\n       // ctx.clearRect(this.imgCoords.topLeft.x, this.imgCoords.topLeft.y, this.imgCoords.width, this.imgCoords.height);\r\n        component.placeFrame(this, zoom);\r\n        \r\n        this.visited = true;\r\n           this.draw(ctx);\r\n           \r\n        \r\n    }\r\n    \r\n     highlight(ctx){\r\n       this.drawing.applySetting(ctx,\"highlight\");\r\n        this.drawing.drawPolygon(ctx, this.points, \"highlight\");\r\n       \r\n    }\r\n    \r\n   \r\n}\r\n\r\nexport class Annotation extends Zone {\r\nmsText : any;\r\noffset : number = 0;\r\nduration : number = 8000;\r\n    \r\n    constructor(slide, imgData){\r\n        super(slide);\r\n\r\n        \r\n        let transcription = null;\r\n        let translation = null;\r\n        \r\n        if(slide.fields.transcription){\r\n            transcription=slide.fields.transcription.value.split(\" \").map(function(w){return {transcript:w, translation:\"\"}}); \r\n        }\r\n        \r\n         if(slide.fields.translation){\r\n            translation=slide.fields.translation.value.split(\" \").map(function(w){return {transcript:w}});\r\n        }\r\n        \r\n       \r\n        \r\n        this.msText = {transcription:transcription, translation:translation, bgImage:imgData.url, bgImage2:imgData.url2, map : slide.fields.map.value, mapLink:slide.fields.map_link.value , link:slide.fields.link.value };\r\n        \r\n\r\n    }\r\n        \r\n\r\n    draw_polygon(ctx){\r\n\r\n         this.drawing.applySetting(ctx, this.drawingSetting);\r\n        this.drawing.drawPolygon(ctx, this.points, this.drawingSetting);\r\n    }\r\n    \r\n    draw(ctx){\r\n      //  this.draw_polygon(ctx);\r\n        let finger = new Image();\r\n        if(this.visited==false){\r\n            finger.src = \"/assets/images/icons/interface clickers green.png\";\r\n        }else{\r\n            finger.src = \"/assets/images/icons/interface clickers red.png\";\r\n        }\r\n        \r\n        let ref = this;\r\n        finger.onload=function(){\r\n            ctx.drawImage(finger,ref.imgCoords.topLeft.x,ref.imgCoords.topLeft.y, iconSize, iconSize);\r\n        }\r\n        \r\n    }\r\n    \r\n     highlight(ctx){\r\n       this.drawing.applySetting(ctx,\"highlight\");\r\n        this.drawing.drawPolygon(ctx, this.points, \"highlight\");\r\n       this.draw(ctx);\r\n    }\r\n    \r\n    \r\n        addToAnimations(canvas, zoom){\r\n\r\n       return [this];\r\n    }\r\n    \r\n    animate_old(ctx, stage, canvas, zoom){\r\n\r\n         ctx.save();\r\n        this.drawing.applySetting(ctx, this.drawingSetting);\r\n        ctx.globalAlpha=stage;\r\n        this.draw_polygon(ctx);\r\n         ctx.restore();\r\n     \r\n    }\r\n    \r\n      animate(ctx, stage, canvas, zoom){\r\n\r\n          let x = (this.fingerCoords[0].x+(iconSize/2));\r\n            let y = (this.fingerCoords[0].y+(iconSize/2));\r\n\r\n          let small = (iconSize*1.5 + (100*stage))*zoom;\r\n          let big = (iconSize*2 + (100*stage))*zoom;\r\n          \r\n\r\n          \r\n         ctx.save();\r\n        ctx.lineWidth = 9;\r\n         ctx.strokeStyle = \"green\";\r\n        ctx.globalAlpha=0.3+stage;\r\n        ctx.beginPath();\r\nctx.arc(x, y , small, -Math.PI/3,  Math.PI/3);\r\nctx.stroke();\r\n\r\nctx.beginPath();\r\nctx.arc(x, y , big, -Math.PI/3,  Math.PI/3);\r\nctx.stroke();\r\n\r\nctx.beginPath();\r\nctx.arc(x, y , small, Math.PI/1.5,  -Math.PI/1.5);\r\nctx.stroke();\r\n\r\nctx.beginPath();\r\nctx.arc(x, y , big, Math.PI/1.5,  -Math.PI/1.5);\r\nctx.stroke();\r\n         ctx.restore();\r\n     \r\n    }\r\n    \r\n       activate(ctx, component, zoom){\r\n\r\n\r\n       // ctx.clearRect(this.imgCoords.topLeft.x, this.imgCoords.topLeft.y, this.imgCoords.width, this.imgCoords.height);\r\n        component.placeFrame(this, zoom);\r\n        \r\n        this.visited = true;\r\n           this.draw(ctx);\r\n           \r\n        \r\n    }\r\n    \r\n   \r\n}\r\n\r\n\r\nexport class Cover extends Zone {\r\n\r\n    constructor(slide){\r\n        super(slide);\r\n\r\n    }\r\n        \r\n\r\n    draw(ctx){\r\n\r\n         this.drawing.applySetting(ctx, this.drawingSetting);\r\n     this.drawing.drawCover(ctx, this.points);\r\n \r\n    \r\n    }\r\n    \r\n        addToAnimations(canvas, zoom){\r\n\r\n       return [this];\r\n    }\r\n    \r\n    animate(ctx, stage, canvas, zoom){\r\n\r\n         ctx.save();\r\n        this.drawing.applySetting(ctx, this.drawingSetting);\r\n        ctx.globalAlpha=stage;\r\n        this.draw(ctx);\r\n         ctx.restore();\r\n     \r\n    }\r\n    \r\n        \r\n   \r\n}\r\n\r\n\r\n\r\n\r\nexport class Poster extends Zone {\r\n    \r\n    imgCoords : any;\r\n    position: any;\r\n    img : any;\r\n    source : string;\r\n    alpha : number;\r\n    transform: any;\r\n    duration : number;\r\n    transformSetting : TransformSettings;\r\n    animation : string;\r\n    \r\n    constructor(slide){\r\n        super(slide);\r\n        this.duration = 5000;\r\n        this.static = false;\r\n        this.animation = slide.fields.animation.value;\r\n      this.imgCoords=this.calcImgCoords(this.points); \r\n        \r\n           this.position=this.imgCoords.topLeft;\r\n            this.img=new Image();\r\n                this.img.src=slide.fields.image.value;\r\n\r\n        \r\n           this.source=slide.fields.icon.value;\r\n    }\r\n    \r\n    addToAnimations(canvas, zoom){\r\n\r\n        this.transformSetting=this.drawing.calcScaleToFit(this.imgCoords, canvas, zoom);\r\n  \r\n\r\n        let text = new Text(this.description, 200, 500);\r\n       return [this];\r\n    }\r\n    \r\n    animate(ctx, stage, canvas, zoom){\r\n         ctx.save();\r\n        this.setTransformSetting(stage, this.animation);\r\n        this.drawing.drawTransparentImage(ctx, this, zoom);\r\n        \r\n        if(this.animation==\"curtain\"){\r\n            this.drawing.drawCurtain(ctx, this);\r\n        }\r\n        \r\n         ctx.restore();\r\n       \r\n          \r\n    }\r\n    \r\n    draw(ctx){\r\n        this.drawing.drawStaticImage(ctx, this);\r\n    }\r\n    \r\n    setTransformSetting(stage, version){\r\n\r\n        switch(version){\r\n            case \"all\": this.transformSetting.globalAlpha = this.calcAlpha(stage); this.transformSetting.scale = this.calcScale(stage, 0.5, 1); this.transformSetting.translate = this.calcTranslate(stage, this.transformSetting.center); break;\r\n                case \"smAll\": this.transformSetting.globalAlpha = this.calcAlpha(stage); this.transformSetting.scale = 1 + (stage/5); this.transformSetting.translate = this.calcTranslate(stage, this.transformSetting.centerOrig); break;\r\n            case \"alpha\": this.transformSetting.globalAlpha = this.calcAlpha(stage); this.transformSetting.scale = this.transformSetting.maxScale ; this.transformSetting.translate = {x:0, y:0}; break;\r\n             case \"curtain\": this.transformSetting.globalAlpha = 1-stage; this.transformSetting.scale = this.transformSetting.maxScale ; this.transformSetting.translate = {x:0, y:0}; break;\r\n            case \"static\": this.transformSetting.globalAlpha =  this.calcAlpha(stage); this.transformSetting.scale = 1 ; this.transformSetting.translate = {x:this.imgCoords.topLeft.x, y:this.imgCoords.topLeft.y}; break;\r\n        }\r\n        \r\n    }\r\n    \r\n    calcAlpha(stage){\r\n        let alpha:number;\r\n             if(stage<0.5){\r\n         alpha=Math.sqrt(stage/0.5);\r\n     }else{\r\n         alpha=Math.sqrt((1-stage)*2);\r\n     }   \r\n      return alpha;\r\n    }\r\n    \r\n      calcScale(stage, initial, target){\r\n        let scale:number;\r\n          scale = (this.transformSetting.maxScale*initial) + (((target-initial)*this.transformSetting.maxScale)*stage);\r\n        return scale;\r\n   \r\n      }\r\n    \r\n    calcTranslate(stage, destination){\r\n          let x = this.imgCoords.topLeft.x + ((destination.x-this.imgCoords.topLeft.x)*stage);\r\n        let y =  this.imgCoords.topLeft.y + ((destination.y-this.imgCoords.topLeft.y)*stage);\r\n        return {x:x, y:y};\r\n   \r\n      }\r\n}\r\n\r\n\r\n\r\nexport class Slide{\r\n    name : string;\r\n    text : Text;\r\n    duration : number;\r\n    music : string;\r\n    zones : any[];\r\n    \r\n    seqLength: number;\r\n    seqCount: number;\r\n    \r\n    constructor(data, zones){\r\n        this.name = data.name;\r\n        let text = data.text;\r\n        this.duration = data.duration;\r\n        this.zones = zones;\r\n        this.music=data.music;\r\n        this.zones.push(new Text(text, 1700, 2000));\r\n        \r\n        this.seqLength = this.zones.filter((z)=> z.text==null).length;\r\n        this.seqCount = 0;\r\n        \r\n       this.setTiming(data);\r\n    }\r\n    \r\n    addToAnimations(canvas, zoom){\r\n        let animations=[];\r\n        this.zones.forEach((z)=>animations=animations.concat(z.addToAnimations(canvas, zoom)));\r\n       return animations;\r\n    }\r\n    \r\n    animate(ctx, stage, canvas, zoom){\r\n         let animations=[];\r\n        this.zones.forEach((z)=>z.animate(ctx, stage, canvas, zoom));\r\n       return animations;\r\n     \r\n    }\r\n    \r\n    setTiming(data){\r\n        let ref = this;\r\n        let segment = this.duration / this.seqLength;\r\n        \r\n          this.zones.filter((z)=>z.text!=null).forEach(function(z, zi){\r\n            z.offset = 0; \r\n            z.duration = data.duration;\r\n               \r\n            });\r\n             \r\n        \r\n        \r\n         this.zones.filter((z)=>z.text==null).forEach(function(z, zi){\r\n            switch(data.seqMode){\r\n                case \"S\" : z.offset = 0; z.duration = data.duration; break; \r\n                case \"D\" : z.offset = zi*segment; z.duration = segment; break; \r\n                case \"C\" : z.offset = zi*segment; z.duration = data.duration-z.offset; break; \r\n            }\r\n              \r\n        });\r\n    }\r\n    \r\n    \r\n}\r\n\r\n\r\nexport class Text{\r\n    drawing : DrawingSvc  = new DrawingSvc();\r\n    text : string;\r\n    x : number;\r\n    y: number;\r\n    \r\n    constructor(text, x, y){\r\n\r\n        this.text = text;\r\n        this.x= x;\r\n        this.y = y;   \r\n\r\n    }\r\n    \r\n    addToAnimations(canvas, zoom){\r\n        return [this]\r\n    }\r\n    \r\n    animate(ctx, stage, canvas){\r\n        ctx.globalAlpha = this.calcAlpha(stage);\r\n\r\n        this.drawing.writeText(ctx,this, canvas.nativeElement.offsetWidth, canvas.nativeElement.offsetHeight);\r\n    }\r\n    \r\n       calcAlpha(stage){\r\n        let alpha:number;\r\n             if(stage<0.5){\r\n         alpha=stage/0.5;\r\n     }else{\r\n         alpha=(1-stage)*2;\r\n     }   \r\n      return alpha;\r\n    }\r\n    \r\n}\r\n\r\nexport class Curtain extends Slide{\r\n   width : number;\r\n    height : number;\r\n    x : number;\r\n    y : number;\r\n    constructor(data, zones){\r\n        super(data, zones);\r\n        this.width = data.width;\r\n        this.height = data.height;\r\n        this.x = data.x;\r\n        this.y = data.y;\r\n        \r\n        for(let x=0;x<data.x;x++){\r\n            for(let y=0;y<data.y;y++){\r\n            \r\n                this.zones.push(new Cloud((data.width/data.x)*x, (data.height/data.y)*y, data.shape, data.setting));\r\n            }\r\n        }\r\n        \r\n         this.zones.push(new Text(data.text, 1700, 2000));\r\n        this.setTiming(data);\r\n    }\r\n    \r\n    \r\n}\r\n\r\nexport class Cloud{\r\n    type : string;\r\n    drawing : DrawingSvc  = new DrawingSvc();\r\n    drawingSetting: string;\r\n    transformSetting : TransformSettings;\r\n    points : Point[];\r\n\r\n    constructor(x, y, shape, setting){\r\n        this.type = \"element\";\r\n        this.drawingSetting = setting;\r\n        this.points = this.drawing.stringToPath(shape);\r\n        this.transformSetting = {maxScale:1, scale:1, translate:{x:this.getRandom(x-50, x+50), y:this.getRandom(y-50, y+50)}, globalAlpha: this.getRandom(0,1)};\r\n        \r\n    }\r\n    \r\n    addToAnimations(){\r\n        return [this];\r\n    }\r\n\r\n    \r\n    animate(ctx, stage, canvas, zoom){\r\n\r\n         ctx.save();\r\n        this.randomizeSetting(stage);\r\n        this.drawing.applySetting(ctx, this.drawingSetting);\r\n        this.drawing.applyTransform(ctx, this.transformSetting);\r\n         ctx.globalAlpha = 1-stage;\r\n        this.draw(ctx);\r\n         ctx.restore();\r\n     \r\n    }\r\n    \r\n    randomizeSetting(stage){\r\n        this.transformSetting.translate.x+=this.getRandom(-0.05,0.05);\r\n        this.transformSetting.translate.y+=this.getRandom(-0.05,0.05);\r\n        this.transformSetting.globalAlpha=1-stage;\r\n        this.transformSetting.scale+=this.getRandom(0,0.02);\r\n        let ref=this;\r\n       //this.points.forEach((point)=>{point.x+=ref.getRandom(0,1);});\r\n        \r\n\r\n        \r\n    }\r\n    \r\n     draw(ctx){\r\n\r\n         this.drawing.applySetting(ctx, this.drawingSetting);\r\n        this.drawing.applyTransform(ctx, this.transformSetting);\r\n        \r\n        this.drawing.drawPolygon(ctx, this.points, this.drawingSetting);\r\n    }\r\n    \r\n     getRandom(min, max){\r\n    let result = min + (Math.random()*(max-min));\r\n    return result;\r\n}\r\n    \r\n      calcAlpha(stage){\r\n        let alpha:number;\r\n             if(stage<0.5){\r\n         alpha=Math.sqrt(stage/0.5);\r\n     }else{\r\n         alpha=Math.sqrt((1-stage)*2);\r\n     }   \r\n      return alpha;\r\n    }\r\n    \r\n}\r\n\r\n\r\n\r\n\r\n\r\n","module.exports = \"* {box-sizing: border-box}\\r\\n\\r\\n#container{\\r\\n    position:absolute;\\r\\n    left:0;\\r\\n    bottom:0;\\r\\n    width: 98%;\\r\\n    height:0;\\r\\n    display: -webkit-box;\\r\\n    display: flex;\\r\\n    -webkit-box-orient: vertical;\\r\\n    -webkit-box-direction: normal;\\r\\n            flex-flow: column nowrap;\\r\\n    background-color: rgba(0,0,0,0.8);\\r\\n    color: white;\\r\\n    padding:1em;\\r\\n    z-index:2500;\\r\\n    overflow-y : scroll;\\r\\n        -webkit-transition: height 2s;\\r\\n        transition: height 2s;\\r\\n}\\r\\n\\r\\n#image{\\r\\n   background-color: rgba(100,100,100,0.3);\\r\\nmargin: 0.5em;\\r\\n    margin-bottom: 1em;\\r\\nmargin-bottom: 0;\\r\\nbox-shadow: 0 0 15px rgba(0,0,0,0.7);\\r\\nmax-width: 100%;\\r\\nborder: 2px outset rgb(100,100,100);\\r\\n}\\r\\n\\r\\n#description{\\r\\n       background-color: rgba(0,0,0,0.7);\\r\\nmargin:0.5em;\\r\\n    padding:1em;\\r\\nbox-shadow: 0 0 15px rgba(0,0,0,0.7);\\r\\n   max-width:100%;\\r\\n}\\r\\n\\r\\n#description h2{\\r\\n    border-bottom : 1px solid white;\\r\\n    color:rgb(255,242,204);\\r\\n}\\r\\n\\r\\n.iconButton{\\r\\n    position:absolute;\\r\\n    right:0;\\r\\n    top:0;\\r\\n    border-radius: 0.2em;\\r\\n    border:2px outset rgb(20,20,20);\\r\\n    width:3em;\\r\\n    height:3em;\\r\\n    margin:0.25em;\\r\\n     background-size: 100% 100%;\\r\\n    -webkit-transition : background-image 1s ease-out;\\r\\n    transition : background-image 1s ease-out;\\r\\n\\r\\n    background-image:url(\\\"/assets/images/icons/close.png\\\");\\r\\n}\\r\\n\\r\\n.iconButton:hover{\\r\\n    box-shadow:0 0 5px yellow;\\r\\n}\\r\\n\\r\\nspan.keyWord{\\r\\n   font-weight:bold;\\r\\n    color:#5d91b6\\r\\n}\\r\\n\\r\\n/* CUSTOM SCROLLBAR */\\r\\n\\r\\n::-webkit-scrollbar {\\r\\n    width: 11px;\\r\\n    height: 11px;\\r\\n}\\r\\n\\r\\n::-webkit-scrollbar-button {\\r\\n    width: 0px;\\r\\n    height: 0px;\\r\\n}\\r\\n\\r\\n::-webkit-scrollbar-thumb {\\r\\n    background: rgb(20,20,20);\\r\\n    border: 2px solid #ffffff;\\r\\n    border-radius: 50px;\\r\\n}\\r\\n\\r\\n::-webkit-scrollbar-thumb:hover {\\r\\n    background: #ffffff;\\r\\n}\\r\\n\\r\\n::-webkit-scrollbar-thumb:active {\\r\\n    background: #000000;\\r\\n}\\r\\n\\r\\n::-webkit-scrollbar-track {\\r\\n    background: rgb(20,20,20);\\r\\n    border: 0px none #ffffff;\\r\\n    border-radius: 39px;\\r\\n}\\r\\n\\r\\n::-webkit-scrollbar-track:hover {\\r\\n    background: rgb(20,20,20);\\r\\n}\\r\\n\\r\\n::-webkit-scrollbar-track:active {\\r\\n    background: rgb(20,20,20);\\r\\n}\\r\\n\\r\\n::-webkit-scrollbar-corner {\\r\\n    background: transparent;\\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2ltYWdlL2ltYWdlLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsR0FBRyxzQkFBc0I7O0FBRXpCO0lBQ0ksaUJBQWlCO0lBQ2pCLE1BQU07SUFDTixRQUFRO0lBQ1IsVUFBVTtJQUNWLFFBQVE7SUFDUixvQkFBYTtJQUFiLGFBQWE7SUFDYiw0QkFBd0I7SUFBeEIsNkJBQXdCO1lBQXhCLHdCQUF3QjtJQUN4QixpQ0FBaUM7SUFDakMsWUFBWTtJQUNaLFdBQVc7SUFDWCxZQUFZO0lBQ1osbUJBQW1CO1FBQ2YsNkJBQXFCO1FBQXJCLHFCQUFxQjtBQUM3Qjs7QUFFQTtHQUNHLHVDQUF1QztBQUMxQyxhQUFhO0lBQ1Qsa0JBQWtCO0FBQ3RCLGdCQUFnQjtBQUNoQixvQ0FBb0M7QUFDcEMsZUFBZTtBQUNmLG1DQUFtQztBQUNuQzs7QUFFQTtPQUNPLGlDQUFpQztBQUN4QyxZQUFZO0lBQ1IsV0FBVztBQUNmLG9DQUFvQztHQUNqQyxjQUFjO0FBQ2pCOztBQUVBO0lBQ0ksK0JBQStCO0lBQy9CLHNCQUFzQjtBQUMxQjs7QUFFQTtJQUNJLGlCQUFpQjtJQUNqQixPQUFPO0lBQ1AsS0FBSztJQUNMLG9CQUFvQjtJQUNwQiwrQkFBK0I7SUFDL0IsU0FBUztJQUNULFVBQVU7SUFDVixhQUFhO0tBQ1osMEJBQTBCO0lBQzNCLGlEQUF5QztJQUF6Qyx5Q0FBeUM7O0lBRXpDLHNEQUFzRDtBQUMxRDs7QUFFQTtJQUNJLHlCQUF5QjtBQUM3Qjs7QUFFQTtHQUNHLGdCQUFnQjtJQUNmO0FBQ0o7O0FBRUEscUJBQXFCOztBQUVyQjtJQUNJLFdBQVc7SUFDWCxZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksVUFBVTtJQUNWLFdBQVc7QUFDZjs7QUFFQTtJQUNJLHlCQUF5QjtJQUN6Qix5QkFBeUI7SUFDekIsbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0kseUJBQXlCO0lBQ3pCLHdCQUF3QjtJQUN4QixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSx5QkFBeUI7QUFDN0I7O0FBRUE7SUFDSSx5QkFBeUI7QUFDN0I7O0FBRUE7SUFDSSx1QkFBdUI7QUFDM0IiLCJmaWxlIjoiLi4vaW1hZ2UvaW1hZ2UuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIioge2JveC1zaXppbmc6IGJvcmRlci1ib3h9XHJcblxyXG4jY29udGFpbmVye1xyXG4gICAgcG9zaXRpb246YWJzb2x1dGU7XHJcbiAgICBsZWZ0OjA7XHJcbiAgICBib3R0b206MDtcclxuICAgIHdpZHRoOiA5OCU7XHJcbiAgICBoZWlnaHQ6MDtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWZsb3c6IGNvbHVtbiBub3dyYXA7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsMCwwLDAuOCk7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBwYWRkaW5nOjFlbTtcclxuICAgIHotaW5kZXg6MjUwMDtcclxuICAgIG92ZXJmbG93LXkgOiBzY3JvbGw7XHJcbiAgICAgICAgdHJhbnNpdGlvbjogaGVpZ2h0IDJzO1xyXG59XHJcblxyXG4jaW1hZ2V7XHJcbiAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMTAwLDEwMCwxMDAsMC4zKTtcclxubWFyZ2luOiAwLjVlbTtcclxuICAgIG1hcmdpbi1ib3R0b206IDFlbTtcclxubWFyZ2luLWJvdHRvbTogMDtcclxuYm94LXNoYWRvdzogMCAwIDE1cHggcmdiYSgwLDAsMCwwLjcpO1xyXG5tYXgtd2lkdGg6IDEwMCU7XHJcbmJvcmRlcjogMnB4IG91dHNldCByZ2IoMTAwLDEwMCwxMDApO1xyXG59XHJcblxyXG4jZGVzY3JpcHRpb257XHJcbiAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsMCwwLDAuNyk7XHJcbm1hcmdpbjowLjVlbTtcclxuICAgIHBhZGRpbmc6MWVtO1xyXG5ib3gtc2hhZG93OiAwIDAgMTVweCByZ2JhKDAsMCwwLDAuNyk7XHJcbiAgIG1heC13aWR0aDoxMDAlO1xyXG59XHJcblxyXG4jZGVzY3JpcHRpb24gaDJ7XHJcbiAgICBib3JkZXItYm90dG9tIDogMXB4IHNvbGlkIHdoaXRlO1xyXG4gICAgY29sb3I6cmdiKDI1NSwyNDIsMjA0KTtcclxufVxyXG5cclxuLmljb25CdXR0b257XHJcbiAgICBwb3NpdGlvbjphYnNvbHV0ZTtcclxuICAgIHJpZ2h0OjA7XHJcbiAgICB0b3A6MDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDAuMmVtO1xyXG4gICAgYm9yZGVyOjJweCBvdXRzZXQgcmdiKDIwLDIwLDIwKTtcclxuICAgIHdpZHRoOjNlbTtcclxuICAgIGhlaWdodDozZW07XHJcbiAgICBtYXJnaW46MC4yNWVtO1xyXG4gICAgIGJhY2tncm91bmQtc2l6ZTogMTAwJSAxMDAlO1xyXG4gICAgdHJhbnNpdGlvbiA6IGJhY2tncm91bmQtaW1hZ2UgMXMgZWFzZS1vdXQ7XHJcblxyXG4gICAgYmFja2dyb3VuZC1pbWFnZTp1cmwoXCIvYXNzZXRzL2ltYWdlcy9pY29ucy9jbG9zZS5wbmdcIik7XHJcbn1cclxuXHJcbi5pY29uQnV0dG9uOmhvdmVye1xyXG4gICAgYm94LXNoYWRvdzowIDAgNXB4IHllbGxvdztcclxufVxyXG5cclxuc3Bhbi5rZXlXb3Jke1xyXG4gICBmb250LXdlaWdodDpib2xkO1xyXG4gICAgY29sb3I6IzVkOTFiNlxyXG59XHJcblxyXG4vKiBDVVNUT00gU0NST0xMQkFSICovXHJcblxyXG46Oi13ZWJraXQtc2Nyb2xsYmFyIHtcclxuICAgIHdpZHRoOiAxMXB4O1xyXG4gICAgaGVpZ2h0OiAxMXB4O1xyXG59XHJcblxyXG46Oi13ZWJraXQtc2Nyb2xsYmFyLWJ1dHRvbiB7XHJcbiAgICB3aWR0aDogMHB4O1xyXG4gICAgaGVpZ2h0OiAwcHg7XHJcbn1cclxuXHJcbjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xyXG4gICAgYmFja2dyb3VuZDogcmdiKDIwLDIwLDIwKTtcclxuICAgIGJvcmRlcjogMnB4IHNvbGlkICNmZmZmZmY7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1MHB4O1xyXG59XHJcblxyXG46Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iOmhvdmVyIHtcclxuICAgIGJhY2tncm91bmQ6ICNmZmZmZmY7XHJcbn1cclxuXHJcbjo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWI6YWN0aXZlIHtcclxuICAgIGJhY2tncm91bmQ6ICMwMDAwMDA7XHJcbn1cclxuXHJcbjo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2sge1xyXG4gICAgYmFja2dyb3VuZDogcmdiKDIwLDIwLDIwKTtcclxuICAgIGJvcmRlcjogMHB4IG5vbmUgI2ZmZmZmZjtcclxuICAgIGJvcmRlci1yYWRpdXM6IDM5cHg7XHJcbn1cclxuXHJcbjo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2s6aG92ZXIge1xyXG4gICAgYmFja2dyb3VuZDogcmdiKDIwLDIwLDIwKTtcclxufVxyXG5cclxuOjotd2Via2l0LXNjcm9sbGJhci10cmFjazphY3RpdmUge1xyXG4gICAgYmFja2dyb3VuZDogcmdiKDIwLDIwLDIwKTtcclxufVxyXG5cclxuOjotd2Via2l0LXNjcm9sbGJhci1jb3JuZXIge1xyXG4gICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XHJcbn1cclxuIl19 */\"","module.exports = \"<div id=container #container>\\n    <button (click)=\\\"close()\\\" *ngIf=\\\"opened==true\\\" style=\\\"float:right\\\" class=\\\"iconButton\\\"></button>\\n\\n    <img [src]=\\\"imgUrl\\\" id=image *ngIf=\\\"imgUrl\\\" />\\n\\n    <div id=description *ngIf=\\\"description\\\">\\n        <h2 id=imgHeadline>{{name}}</h2>\\n        <p class=description [innerHTML]=highlightKws(description)>\\n        </p>\\n    </div>\\n    <app-audio [songUrl]=\\\"songUrl\\\" mode=\\\"interaction\\\" [youTubeId]=\\\"youTubeId\\\"></app-audio>\\n\\n\\n</div>\"","import { Component, OnChanges, Input, ViewChild } from '@angular/core';\n\n@Component({\n  selector: 'app-image',\n  templateUrl: './image.component.html',\n  styleUrls: ['./image.component.css']\n})\nexport class ImageComponent implements OnChanges {\n    @Input('imgUrl') imgUrl : string;\n    @Input('youTubeId') youTubeId : string;\n    @Input('name') name : string;\n    @Input('description') description : string;\n    @Input('mapTitle') mapTitle : string;\n    @ViewChild(\"container\") container : any;\n    opened : boolean = false;\n    keyWords : string[] = [\"Aquila\", \"Genizah\" , \"palimpsest\", \"Pyyut\", \"Palestine\", \"poetry\", \"Yannai\"];\n\n  constructor() { }\n\n  ngOnChanges() {\n     \n  }\n\n    close(){\n        console.log(\"closing infowindow\");\n        this.container.nativeElement.style.height=\"0px\";\n        this.opened=false;\n    }\n    \n      open(){\n        console.log(\"opening infowindow\");\n        this.container.nativeElement.style.height=\"50%\";\n          this.opened=true;\n    }\n    \n    highlightKws(text){\n        let result :string = text;\n        this.keyWords.forEach((kw)=>result=result.replace(kw,\"<strong>\"+kw+\"</strong>\"));\n        return result;\n    }\n    \n}\n","module.exports = \"app-audio{\\r\\n    position:absolute;\\r\\n    top:0;\\r\\n    right:0;\\r\\n    margin:1%;\\r\\n    z-index:1000;\\r\\n}\\r\\n\\r\\n#timeMachine{\\r\\n          position: fixed;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    left: 0;\\r\\n    bottom: 0%;\\r\\n    z-index: 5000;\\r\\n    background-color: transparent;\\r\\n    color: white;\\r\\n    text-align: center;\\r\\n    font-size: 20px;\\r\\n    display: -webkit-box;\\r\\n    display: flex;\\r\\n    -webkit-box-orient: vertical;\\r\\n    -webkit-box-direction: normal;\\r\\n            flex-flow: column nowrap;\\r\\n}\\r\\n\\r\\n#timeMachine h2{\\r\\n   width:100%;\\r\\n    text-align:center;\\r\\n    font-size: 50px;\\r\\n    background-color:black;\\r\\n    border-radius: 0.5em;\\r\\n    \\r\\n}\\r\\n\\r\\n#timeMachine p{\\r\\n    width:90%;\\r\\n    margin:5%;\\r\\n    text-align:center;\\r\\n     background-color:black;\\r\\n    border-radius: 0.5em;\\r\\n    padding:\\r\\n}\\r\\n\\r\\n.selectButton{\\r\\n    display:-webkit-box;\\r\\n    display:flex;\\r\\n    -webkit-box-orient: vertical;\\r\\n    -webkit-box-direction: normal;\\r\\n            flex-flow: column-nowrap;\\r\\n   border: none;\\r\\n    position: fixed;\\r\\n    bottom: 0%;\\r\\n    width: 50%;\\r\\n    height: 100%;\\r\\n    background-color: transparent;\\r\\n    font-size: 50px;\\r\\n    -webkit-transition: background-color 2s ease-out;\\r\\n    transition: background-color 2s ease-out;\\r\\n}\\r\\n\\r\\n.selectButton:hover{\\r\\n    background-color:rgba(255,255,255,0.2);\\r\\n}\\r\\n\\r\\n.selectButton h3{\\r\\n    font-size:35px;\\r\\n    position:absolute;\\r\\n    bottom:50%;\\r\\n    width:90%;\\r\\n    margin:5%;\\r\\n    text-align:center;\\r\\n}\\r\\n\\r\\n#aquila{\\r\\n    right:0;\\r\\n    color:white;\\r\\n}\\r\\n\\r\\n#yannai{\\r\\n    left:0;\\r\\n    color:black;\\r\\n}\\r\\n\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2ludGVyYWN0aW9uL2ludGVyYWN0aW9uLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxpQkFBaUI7SUFDakIsS0FBSztJQUNMLE9BQU87SUFDUCxTQUFTO0lBQ1QsWUFBWTtBQUNoQjs7QUFFQTtVQUNVLGVBQWU7SUFDckIsV0FBVztJQUNYLFlBQVk7SUFDWixPQUFPO0lBQ1AsVUFBVTtJQUNWLGFBQWE7SUFDYiw2QkFBNkI7SUFDN0IsWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixlQUFlO0lBQ2Ysb0JBQWE7SUFBYixhQUFhO0lBQ2IsNEJBQXdCO0lBQXhCLDZCQUF3QjtZQUF4Qix3QkFBd0I7QUFDNUI7O0FBR0E7R0FDRyxVQUFVO0lBQ1QsaUJBQWlCO0lBQ2pCLGVBQWU7SUFDZixzQkFBc0I7SUFDdEIsb0JBQW9COztBQUV4Qjs7QUFFQTtJQUNJLFNBQVM7SUFDVCxTQUFTO0lBQ1QsaUJBQWlCO0tBQ2hCLHNCQUFzQjtJQUN2QixvQkFBb0I7SUFDcEI7QUFDSjs7QUFHQTtJQUNJLG1CQUFZO0lBQVosWUFBWTtJQUNaLDRCQUF3QjtJQUF4Qiw2QkFBd0I7WUFBeEIsd0JBQXdCO0dBQ3pCLFlBQVk7SUFDWCxlQUFlO0lBQ2YsVUFBVTtJQUNWLFVBQVU7SUFDVixZQUFZO0lBQ1osNkJBQTZCO0lBQzdCLGVBQWU7SUFDZixnREFBd0M7SUFBeEMsd0NBQXdDO0FBQzVDOztBQUVBO0lBQ0ksc0NBQXNDO0FBQzFDOztBQUVBO0lBQ0ksY0FBYztJQUNkLGlCQUFpQjtJQUNqQixVQUFVO0lBQ1YsU0FBUztJQUNULFNBQVM7SUFDVCxpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSxPQUFPO0lBQ1AsV0FBVztBQUNmOztBQUVBO0lBQ0ksTUFBTTtJQUNOLFdBQVc7QUFDZiIsImZpbGUiOiIuLi9pbnRlcmFjdGlvbi9pbnRlcmFjdGlvbi5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiYXBwLWF1ZGlve1xyXG4gICAgcG9zaXRpb246YWJzb2x1dGU7XHJcbiAgICB0b3A6MDtcclxuICAgIHJpZ2h0OjA7XHJcbiAgICBtYXJnaW46MSU7XHJcbiAgICB6LWluZGV4OjEwMDA7XHJcbn1cclxuXHJcbiN0aW1lTWFjaGluZXtcclxuICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgbGVmdDogMDtcclxuICAgIGJvdHRvbTogMCU7XHJcbiAgICB6LWluZGV4OiA1MDAwO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBmb250LXNpemU6IDIwcHg7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1mbG93OiBjb2x1bW4gbm93cmFwO1xyXG59XHJcblxyXG5cclxuI3RpbWVNYWNoaW5lIGgye1xyXG4gICB3aWR0aDoxMDAlO1xyXG4gICAgdGV4dC1hbGlnbjpjZW50ZXI7XHJcbiAgICBmb250LXNpemU6IDUwcHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOmJsYWNrO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMC41ZW07XHJcbiAgICBcclxufVxyXG5cclxuI3RpbWVNYWNoaW5lIHB7XHJcbiAgICB3aWR0aDo5MCU7XHJcbiAgICBtYXJnaW46NSU7XHJcbiAgICB0ZXh0LWFsaWduOmNlbnRlcjtcclxuICAgICBiYWNrZ3JvdW5kLWNvbG9yOmJsYWNrO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMC41ZW07XHJcbiAgICBwYWRkaW5nOlxyXG59XHJcblxyXG5cclxuLnNlbGVjdEJ1dHRvbntcclxuICAgIGRpc3BsYXk6ZmxleDtcclxuICAgIGZsZXgtZmxvdzogY29sdW1uLW5vd3JhcDtcclxuICAgYm9yZGVyOiBub25lO1xyXG4gICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgYm90dG9tOiAwJTtcclxuICAgIHdpZHRoOiA1MCU7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgIGZvbnQtc2l6ZTogNTBweDtcclxuICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMnMgZWFzZS1vdXQ7XHJcbn1cclxuXHJcbi5zZWxlY3RCdXR0b246aG92ZXJ7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMjU1LDI1NSwyNTUsMC4yKTtcclxufVxyXG5cclxuLnNlbGVjdEJ1dHRvbiBoM3tcclxuICAgIGZvbnQtc2l6ZTozNXB4O1xyXG4gICAgcG9zaXRpb246YWJzb2x1dGU7XHJcbiAgICBib3R0b206NTAlO1xyXG4gICAgd2lkdGg6OTAlO1xyXG4gICAgbWFyZ2luOjUlO1xyXG4gICAgdGV4dC1hbGlnbjpjZW50ZXI7XHJcbn1cclxuXHJcbiNhcXVpbGF7XHJcbiAgICByaWdodDowO1xyXG4gICAgY29sb3I6d2hpdGU7XHJcbn1cclxuXHJcbiN5YW5uYWl7XHJcbiAgICBsZWZ0OjA7XHJcbiAgICBjb2xvcjpibGFjaztcclxufVxyXG5cclxuIl19 */\"","module.exports = \"\\n   <app-image [imgUrl]=\\\"imgUrl\\\" [name]=\\\"name\\\" [description]=\\\"description\\\" [youTubeId]=youTubeId #infoWindow></app-image>\\n\\n    <app-canvas [height]=\\\"getHeight(ci)\\\" [top]=\\\"getTop(ci)\\\" *ngFor=\\\"let ci of cis\\\" [imgData]=imgData[ci] [zones]=zones[ci]  [zoneCategories]=zoneCategories[ci]  [mode]=\\\"mode\\\"  (clicked)=\\\"displayClicked($event)\\\"  [infoWindow]=infoWindow #canvas > </app-canvas>  \\n\\n<div *ngIf=\\\"mode=='preview'\\\" id=\\\"timeMachine\\\">\\n    <div (click)=\\\"moveInTime(0)\\\" id=\\\"aquila\\\" class=\\\"selectButton\\\"><h3>Aquila</h3></div>\\n    <div (click)=\\\"moveInTime(1)\\\" id=\\\"yannai\\\" class=\\\"selectButton\\\"><h3>Yannai</h3></div>\\n    \\n    <h2> The Aquila Palimpsest</h2>\\n<p>\\n    This manuscript contains two texts: a 10th century copy of 6th-7th century liturgical poetry by the Jewish poet Yannai, written over a 6th century copy of a literal Greek translation of the Hebrew bible by the 2nd century Jewish translator Aquila. In this manuscript, the Greek under-text is upside-down in relation to the upper Hebrew text. </p>\\n    \\n    \\n\\n</div>\\n\\n\\n\\n<!--<app-controls [cats]=\\\"cats\\\"></app-controls>\\n\\n<app-audio [songUrl]=\\\"songUrl\\\" [mode]=\\\"mode\\\" [youTubeId]=\\\"youTubeId\\\"></app-audio>\\n-->\\n\"","import { Component, OnInit, Output, EventEmitter, ViewChildren, ViewChild} from '@angular/core';\nimport { DataService } from '../services/data.service';\nimport { NavigationService } from '../services/navigation.service';\nimport { ActivatedRoute, Router } from '@angular/router';\n\nimport { Islide } from '../interfaces/Islide';\nimport { MapData } from '../interfaces/map-data';\nimport { Zone, Region, Icon, Slide, Poster, Cover, Annotation} from '../classes/zone';\nimport { ImgData} from '../interfaces/img-data';\nimport { ZoneCategory } from '../interfaces/zone-category';\n\n@Component({\n  selector: 'app-interaction',\n  templateUrl: './interaction.component.html',\n  styleUrls: ['./interaction.component.css']\n})\nexport class InteractionComponent implements OnInit{\n    @Output() soundLoaded = new EventEmitter<string>();\n    @ViewChildren(\"canvas\") canvases :any;\n     @ViewChild(\"infoWindow\") infoWindow :any;\n    \n    \n    \n    slide: any;\n    zoneLoader : any[] = [];\n    zones: any[] = [];\n    description: string;\n    imgData: any = [];\n    imgUrl: string;\n    songUrl:string;\n    youTubeId : string = \"\";\n    commentUrl:string;\n    name: string;\n    zoneCategories: any[]=[];\n    mode : string = \"interaction\";\n    imgCount : number;\n    imgCounter : number = 0;\n    cis : number[] = []\n    \n  constructor(protected _activatedRoute: ActivatedRoute, protected _dataService: DataService, private router : Router, private navigation : NavigationService) { \n  this.zones=[];\n      this.zoneCategories=[];\n\n  }\n\n\n  ngOnInit() {\n      \n      let ref= this;\n      this._activatedRoute.paramMap.subscribe(function(p){\n        let source=p.get('source');\n      let canvases=p.get('canvases').split(\",\");\n      let annotation=p.get('annotation');\n          \n    ref.navigation.previousRoutes.unshift([source,canvases.join(\",\"), annotation]);\n       \n          if(!annotation){\n              annotation=null;\n          }\n          \n       ref.initialize(canvases, source, annotation);\n      });\n      \n    \n      \n       // let id=<string>this._activatedRoute.snapshot.params['zid'];\n  \n      \n      \n  }\n    \n    \ninitialize(canvases, source, annotation){\n    this.zones = [];\n    this.zoneLoader = [];\n    this.zoneCategories = [];\n    this.cis=[];\n    \n        if(canvases.length>1){\nthis.mode=\"preview\";\n      }else{\n          this.mode=\"interaction\";\n      }\n      \n      let ref=this;\n    \n      \n      for(let i=0;i<canvases.length;i++){\n          this.cis.push(i);\n              this._dataService.fetchJson(source+\"_\"+canvases[i]).subscribe(function(data : MapData){\n      \n       let imgData=data[\"imgData\"];\n       // ref.canvases._results[i].imgData=imgData;\n   \n        \n              \n        if(annotation){\n            data.slides=[data.slides[annotation]];\n        }\n        \n      let zoneLoader=ref.processIcons(data);\n\n // ref.displayZones();\n       //  ref.canvases._results[i].zones=ref.zoneLoader.zones;         \n       // ref.canvases._results[i].zoneCategories=ref.zoneLoader.zoneCategories;  \n                  \n                  \n                  \n      let catList=ref.zones.map((zone)=>zone.category);\n     // this.cats=new Set(catList);\n        \n    ref.zones[i]=zoneLoader.zones;\n     ref.zoneCategories[i]=zoneLoader.zoneCategories;\n      ref.imgData[i]=imgData;\n      \n        if(annotation){\n           ref.displayClicked(ref.zones[i][annotation]);\n            ref.infoWindow.open();\n        }\n\n    });\n          \n \n      }\n}    \n    \n    \ndisplayClicked(e){\n\n\n   // this.infoWindow.open();\n    this.name=e.title;\n    this.description=e.description;\n    this.imgUrl=e.image;\n\n\n            this.youTubeId=e.music;\n            this.songUrl=\"\";\n     \n\n\n}\n    \n       processIcons(slideSet){\n\n        let ref=this;\n        var result = [];\n         let categories = {};\n           \n        slideSet.slides.forEach(function(slide){\n\n            let newZone;\n            slide.component = ref;\n            \n            if(ref.mode!=\"preview\"){\n                   switch(slide.cat){\n           \n                case \"translation\" : newZone= new Annotation(slide, slideSet.imgData); break;\n                    case \"Script\" : newZone= new Annotation(slide, slideSet.imgData); break;\n                    case \"Content\" : newZone= new Annotation(slide, slideSet.imgData); break;\n                     case \"Author\" : newZone= new Annotation(slide, slideSet.imgData); break;\n                     case \"Text\" : newZone= new Annotation(slide, slideSet.imgData); break;\n                     case \"Material\" : newZone= new Annotation(slide, slideSet.imgData); break;\n                    case \"Region\" : newZone= new Region(slide, slideSet.imgData); break;\n                 case \"Discovery\" : newZone= new Annotation(slide, slideSet.imgData); break;\n                    case \"City\" : newZone= new Region(slide, slideSet.imgData); break;\n            }\n            }else{\n                newZone= new Region(slide, slideSet.imgData);\n            }\n                \n            \n         \n            \n            if(!categories[slide.cat]){\n                let selectedVal: boolean;\n               \n                \n                selectedVal=true;\n                \n               categories[slide.cat] = {name: slide.cat, zoneCount:0, selected:selectedVal}; \n            }\n            categories[slide.cat].zoneCount++;\n            \n            result.push(newZone);\n\n        });\n           \n\n           let zoneCategories = [];\n           \n           for(let c in categories){\n               zoneCategories.push(categories[c]);\n           }\n           \n        return {zones :result, zoneCategories : zoneCategories};\n    }\n    \n    displayZones(){\n        this.zones = this.zoneLoader;\n\n    }\n    \n    moveInTime(e){\n      //  this.canvases._results.forEach((c)=>c.moveInTime(e.srcElement.value));\n        let ref = this;\n        \n\n        \n        if(e==1){\n          this.canvases._results[1].wrapper.nativeElement.addEventListener(\"transitionend\", function(){ref.navigate(['interaction/aquila_v/'+e]),3000});\n            this.canvases._results[1].wrapper.nativeElement.style.transform=\"rotate(180deg)\";  \n        }else{\n            \n            ref.navigate(['interaction/aquila_v/'+e]);\n            \n        }\n        \n    }\n    \n  \n    \n    navigate(r){\n        this.router.navigate(r);\n    }\n    \n    getTop(ci){\n        return ci*50+\"%\";\n    }\n    \n    getHeight(ci){\n        return (100/(ci+1))+\"%\";\n    }\n    \n    onSwipe(e){\n        alert(\"swipe\");\n    }\n\n}\n","module.exports = \"#container{\\r\\n    position:absolute;\\r\\nborder:4px outset black;\\r\\n    border-radius:0.2em;\\r\\n    background-color:transparent;\\r\\n    font-size:45px;\\r\\n    display:none;\\r\\n    z-index:2000;\\r\\n    padding:0;\\r\\n    margin:0;\\r\\n    -webkit-transform:scale(1.05,1.05);\\r\\n            transform:scale(1.05,1.05);\\r\\n    -webkit-transition: display 2s smooth;\\r\\n    transition: display 2s smooth;\\r\\n}\\r\\n\\r\\n#controls{\\r\\n    height: 25px;\\r\\n    position:absolute;\\r\\n    bottom: 0px;\\r\\n}\\r\\n\\r\\nspan.transcription{\\r\\n    color:navy;\\r\\n    font-weight:bold;\\r\\n    margin-right: 0.3em;\\r\\n}\\r\\n\\r\\nspan.translation{\\r\\n    color:darkred;\\r\\n    font-weight:bold;\\r\\n    margin-right: 0.3em;\\r\\n}\\r\\n\\r\\n.textBox{\\r\\n    display:-webkit-box;\\r\\n    display:flex;\\r\\n    -webkit-box-orient: horizontal;\\r\\n    -webkit-box-direction: normal;\\r\\n            flex-flow: row wrap;\\r\\n    background-color: rgba(255,255,255,0.3);\\r\\n    margin:0;\\r\\n    padding:0;\\r\\n    width:100%;\\r\\n    height:100%;\\r\\n}\\r\\n\\r\\nbutton{\\r\\n    color:white;\\r\\n    background-color:black;\\r\\n    border-radius:0.5em;\\r\\n    font-weight:bold;\\r\\n}\\r\\n\\r\\n#hideButton{\\r\\n    margin:0;\\r\\n    position:absolute;\\r\\n    top:0;\\r\\n    right:0;\\r\\n}\\r\\n\\r\\n.iconButton{\\r\\n    border-radius: 0.2em;\\r\\n    border:2px outset rgb(20,20,20);\\r\\n    width:3em;\\r\\n    height:3em;\\r\\n    margin:0.25em;\\r\\n     background-size: 100% 100%;\\r\\n    -webkit-transition : background-image 1s ease-out;\\r\\n    transition : background-image 1s ease-out;\\r\\n  \\r\\n}\\r\\n\\r\\n.icon_close{\\r\\n    background-image:url(\\\"/assets/images/icons/close.png\\\");\\r\\n}\\r\\n\\r\\n.icon_translation{\\r\\n    background-image:url(\\\"/assets/images/icons/translate%20blue.png\\\");\\r\\n}\\r\\n\\r\\n.icon_translation:hover{\\r\\n    background-image:url(\\\"/assets/images/icons/translate%20yellow.png\\\");\\r\\n}\\r\\n\\r\\n.icon_transcription{\\r\\n    background-image:url(\\\"/assets/images/icons/transcribe%20blue.png\\\");\\r\\n}\\r\\n\\r\\n.icon_transcription:hover{\\r\\n    background-image:url(\\\"/assets/images/icons/transcribe%20yellow.png\\\");\\r\\n}\\r\\n\\r\\n.icon_layers{\\r\\n    background-image:url(\\\"/assets/images/icons/material%20blue.png\\\");\\r\\n}\\r\\n\\r\\n.icon_layers:hover{\\r\\n    background-image:url(\\\"/assets/images/icons/material%20yellow.png\\\");\\r\\n}\\r\\n\\r\\n.icon_map{\\r\\n    background-image:url(\\\"/assets/images/icons/map%20blue.png\\\");\\r\\n}\\r\\n\\r\\n.icon_map:hover{\\r\\n    background-image:url(\\\"/assets/images/icons/map%20yellow.png\\\");\\r\\n}\\r\\n\\r\\n.icon_more{\\r\\n    background-image:url(\\\"/assets/images/icons/text%20blue.png\\\");\\r\\n}\\r\\n\\r\\n.icon_more:hover{\\r\\n    background-image:url(\\\"/assets/images/icons/text%20yellow.png\\\");\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL21hZ2ljLWdsYXNzL21hZ2ljLWdsYXNzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxpQkFBaUI7QUFDckIsdUJBQXVCO0lBQ25CLG1CQUFtQjtJQUNuQiw0QkFBNEI7SUFDNUIsY0FBYztJQUNkLFlBQVk7SUFDWixZQUFZO0lBQ1osU0FBUztJQUNULFFBQVE7SUFDUixrQ0FBMEI7WUFBMUIsMEJBQTBCO0lBQzFCLHFDQUE2QjtJQUE3Qiw2QkFBNkI7QUFDakM7O0FBRUE7SUFDSSxZQUFZO0lBQ1osaUJBQWlCO0lBQ2pCLFdBQVc7QUFDZjs7QUFHQTtJQUNJLFVBQVU7SUFDVixnQkFBZ0I7SUFDaEIsbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLGdCQUFnQjtJQUNoQixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxtQkFBWTtJQUFaLFlBQVk7SUFDWiw4QkFBbUI7SUFBbkIsNkJBQW1CO1lBQW5CLG1CQUFtQjtJQUNuQix1Q0FBdUM7SUFDdkMsUUFBUTtJQUNSLFNBQVM7SUFDVCxVQUFVO0lBQ1YsV0FBVztBQUNmOztBQUVBO0lBQ0ksV0FBVztJQUNYLHNCQUFzQjtJQUN0QixtQkFBbUI7SUFDbkIsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksUUFBUTtJQUNSLGlCQUFpQjtJQUNqQixLQUFLO0lBQ0wsT0FBTztBQUNYOztBQUVBO0lBQ0ksb0JBQW9CO0lBQ3BCLCtCQUErQjtJQUMvQixTQUFTO0lBQ1QsVUFBVTtJQUNWLGFBQWE7S0FDWiwwQkFBMEI7SUFDM0IsaURBQXlDO0lBQXpDLHlDQUF5Qzs7QUFFN0M7O0FBRUE7SUFDSSxzREFBc0Q7QUFDMUQ7O0FBR0E7SUFDSSxpRUFBaUU7QUFDckU7O0FBRUE7SUFDSSxtRUFBbUU7QUFDdkU7O0FBRUE7SUFDSSxrRUFBa0U7QUFDdEU7O0FBRUE7SUFDSSxvRUFBb0U7QUFDeEU7O0FBRUE7SUFDSSxnRUFBZ0U7QUFDcEU7O0FBRUE7SUFDSSxrRUFBa0U7QUFDdEU7O0FBRUE7SUFDSSwyREFBMkQ7QUFDL0Q7O0FBRUE7SUFDSSw2REFBNkQ7QUFDakU7O0FBQ0E7SUFDSSw0REFBNEQ7QUFDaEU7O0FBRUE7SUFDSSw4REFBOEQ7QUFDbEUiLCJmaWxlIjoiLi4vbWFnaWMtZ2xhc3MvbWFnaWMtZ2xhc3MuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIiNjb250YWluZXJ7XHJcbiAgICBwb3NpdGlvbjphYnNvbHV0ZTtcclxuYm9yZGVyOjRweCBvdXRzZXQgYmxhY2s7XHJcbiAgICBib3JkZXItcmFkaXVzOjAuMmVtO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtcclxuICAgIGZvbnQtc2l6ZTo0NXB4O1xyXG4gICAgZGlzcGxheTpub25lO1xyXG4gICAgei1pbmRleDoyMDAwO1xyXG4gICAgcGFkZGluZzowO1xyXG4gICAgbWFyZ2luOjA7XHJcbiAgICB0cmFuc2Zvcm06c2NhbGUoMS4wNSwxLjA1KTtcclxuICAgIHRyYW5zaXRpb246IGRpc3BsYXkgMnMgc21vb3RoO1xyXG59XHJcblxyXG4jY29udHJvbHN7XHJcbiAgICBoZWlnaHQ6IDI1cHg7XHJcbiAgICBwb3NpdGlvbjphYnNvbHV0ZTtcclxuICAgIGJvdHRvbTogMHB4O1xyXG59XHJcblxyXG5cclxuc3Bhbi50cmFuc2NyaXB0aW9ue1xyXG4gICAgY29sb3I6bmF2eTtcclxuICAgIGZvbnQtd2VpZ2h0OmJvbGQ7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDAuM2VtO1xyXG59XHJcblxyXG5zcGFuLnRyYW5zbGF0aW9ue1xyXG4gICAgY29sb3I6ZGFya3JlZDtcclxuICAgIGZvbnQtd2VpZ2h0OmJvbGQ7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDAuM2VtO1xyXG59XHJcblxyXG4udGV4dEJveHtcclxuICAgIGRpc3BsYXk6ZmxleDtcclxuICAgIGZsZXgtZmxvdzogcm93IHdyYXA7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwyNTUsMjU1LDAuMyk7XHJcbiAgICBtYXJnaW46MDtcclxuICAgIHBhZGRpbmc6MDtcclxuICAgIHdpZHRoOjEwMCU7XHJcbiAgICBoZWlnaHQ6MTAwJTtcclxufVxyXG5cclxuYnV0dG9ue1xyXG4gICAgY29sb3I6d2hpdGU7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOmJsYWNrO1xyXG4gICAgYm9yZGVyLXJhZGl1czowLjVlbTtcclxuICAgIGZvbnQtd2VpZ2h0OmJvbGQ7XHJcbn1cclxuXHJcbiNoaWRlQnV0dG9ue1xyXG4gICAgbWFyZ2luOjA7XHJcbiAgICBwb3NpdGlvbjphYnNvbHV0ZTtcclxuICAgIHRvcDowO1xyXG4gICAgcmlnaHQ6MDtcclxufVxyXG5cclxuLmljb25CdXR0b257XHJcbiAgICBib3JkZXItcmFkaXVzOiAwLjJlbTtcclxuICAgIGJvcmRlcjoycHggb3V0c2V0IHJnYigyMCwyMCwyMCk7XHJcbiAgICB3aWR0aDozZW07XHJcbiAgICBoZWlnaHQ6M2VtO1xyXG4gICAgbWFyZ2luOjAuMjVlbTtcclxuICAgICBiYWNrZ3JvdW5kLXNpemU6IDEwMCUgMTAwJTtcclxuICAgIHRyYW5zaXRpb24gOiBiYWNrZ3JvdW5kLWltYWdlIDFzIGVhc2Utb3V0O1xyXG4gIFxyXG59XHJcblxyXG4uaWNvbl9jbG9zZXtcclxuICAgIGJhY2tncm91bmQtaW1hZ2U6dXJsKFwiL2Fzc2V0cy9pbWFnZXMvaWNvbnMvY2xvc2UucG5nXCIpO1xyXG59XHJcblxyXG5cclxuLmljb25fdHJhbnNsYXRpb257XHJcbiAgICBiYWNrZ3JvdW5kLWltYWdlOnVybChcIi9hc3NldHMvaW1hZ2VzL2ljb25zL3RyYW5zbGF0ZSUyMGJsdWUucG5nXCIpO1xyXG59XHJcblxyXG4uaWNvbl90cmFuc2xhdGlvbjpob3ZlcntcclxuICAgIGJhY2tncm91bmQtaW1hZ2U6dXJsKFwiL2Fzc2V0cy9pbWFnZXMvaWNvbnMvdHJhbnNsYXRlJTIweWVsbG93LnBuZ1wiKTtcclxufVxyXG5cclxuLmljb25fdHJhbnNjcmlwdGlvbntcclxuICAgIGJhY2tncm91bmQtaW1hZ2U6dXJsKFwiL2Fzc2V0cy9pbWFnZXMvaWNvbnMvdHJhbnNjcmliZSUyMGJsdWUucG5nXCIpO1xyXG59XHJcblxyXG4uaWNvbl90cmFuc2NyaXB0aW9uOmhvdmVye1xyXG4gICAgYmFja2dyb3VuZC1pbWFnZTp1cmwoXCIvYXNzZXRzL2ltYWdlcy9pY29ucy90cmFuc2NyaWJlJTIweWVsbG93LnBuZ1wiKTtcclxufVxyXG5cclxuLmljb25fbGF5ZXJze1xyXG4gICAgYmFja2dyb3VuZC1pbWFnZTp1cmwoXCIvYXNzZXRzL2ltYWdlcy9pY29ucy9tYXRlcmlhbCUyMGJsdWUucG5nXCIpO1xyXG59XHJcblxyXG4uaWNvbl9sYXllcnM6aG92ZXJ7XHJcbiAgICBiYWNrZ3JvdW5kLWltYWdlOnVybChcIi9hc3NldHMvaW1hZ2VzL2ljb25zL21hdGVyaWFsJTIweWVsbG93LnBuZ1wiKTtcclxufVxyXG5cclxuLmljb25fbWFwe1xyXG4gICAgYmFja2dyb3VuZC1pbWFnZTp1cmwoXCIvYXNzZXRzL2ltYWdlcy9pY29ucy9tYXAlMjBibHVlLnBuZ1wiKTtcclxufVxyXG5cclxuLmljb25fbWFwOmhvdmVye1xyXG4gICAgYmFja2dyb3VuZC1pbWFnZTp1cmwoXCIvYXNzZXRzL2ltYWdlcy9pY29ucy9tYXAlMjB5ZWxsb3cucG5nXCIpO1xyXG59XHJcbi5pY29uX21vcmV7XHJcbiAgICBiYWNrZ3JvdW5kLWltYWdlOnVybChcIi9hc3NldHMvaW1hZ2VzL2ljb25zL3RleHQlMjBibHVlLnBuZ1wiKTtcclxufVxyXG5cclxuLmljb25fbW9yZTpob3ZlcntcclxuICAgIGJhY2tncm91bmQtaW1hZ2U6dXJsKFwiL2Fzc2V0cy9pbWFnZXMvaWNvbnMvdGV4dCUyMHllbGxvdy5wbmdcIik7XHJcbn0iXX0= */\"","module.exports = \"<div id=\\\"container\\\" #container>\\n\\n    <button id=hideButton (click)=\\\"hideFrame()\\\" class=\\\"iconButton icon_close\\\"></button>\\n\\n    <div *ngIf=\\\"mode=='transcription'\\\" class=textBox [style.font-size]=fontSize>\\n        <span class=\\\"transcription\\\" *ngFor=\\\"let w of msText.transcription\\\" >{{w.transcript}}\\n        <span class=translation>{{w.translation}}</span></span>\\n    </div>\\n\\n    <div *ngIf=\\\"mode=='translation'\\\" class=textBox [style.font-size]=fontSize>\\n        <span class=\\\"translation\\\" *ngFor=\\\"let w of msText.translation\\\">{{w.transcript}}</span>\\n    </div>\\n\\n    <div id=\\\"controls\\\">\\n        <button (click)=\\\"mode='transcription'\\\" *ngIf=\\\"msText.transcription\\\" class=\\\"iconButton icon_transcription\\\"></button>\\n        <button (click)=\\\"mode='translation'\\\" *ngIf=\\\"msText.translation\\\" class=\\\"iconButton icon_translation\\\"></button>\\n        <button (click)=\\\"layers()\\\" class=\\\"iconButton icon_layers\\\"></button>\\n        <button (click)=\\\"showInfo($event)\\\" class=\\\"iconButton icon_more\\\" matTooltip=\\\"msText.link\\\"></button>\\n        <button *ngIf=\\\"msText.mapLink\\\" (click)=\\\"navigate('map',msText.map)\\\" class=\\\"iconButton icon_map\\\" [title]=\\\"msText.mapLink\\\"></button>\\n        <button (click)=\\\"clear()\\\" class=\\\"iconButton icon_close\\\"></button>\\n    </div>\\n</div>\"","import { Component, OnInit, Input, ViewChild } from '@angular/core';\nimport { DataService } from '../services/data.service';\nimport { Translation } from '../interfaces/translation';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-magic-glass',\n  templateUrl: './magic-glass.component.html',\n  styleUrls: ['./magic-glass.component.css']\n})\n\nexport class MagicGlassComponent implements OnInit {\n  msText : any = {};\n@Input(\"fontSize\") fontSize : any;\n@Input(\"manuscript\") manuscript : any;\n@Input(\"infoWindow\") infoWindow : any;\n    @ViewChild(\"container\") container : any;\n    width : number = 0;\n    mode : \"none\";\n  constructor(private data : DataService, private router : Router) { }\n\n  ngOnInit() {\n  }\n\n    \nplaceFrame(source, zoom){\n    this.manuscript.nativeElement.style[\"background-color\"] = \"rgba(0,0,0,0.5)\";\n    console.log(this.msText);\n    this.container.nativeElement.style[\"background-image\"]=\"url('\"+source.msText.bgImage+\"')\";\n     this.container.nativeElement.style[\"background-position\"]=-source.imgCoords.topLeft.x+\"px \"+-source.imgCoords.topLeft.y+\"px\";\n    this.container.nativeElement.style.display=\"block\";\n    this.container.nativeElement.style.width=source.imgCoords.width*zoom+\"px\";\n     this.container.nativeElement.style.height=(source.imgCoords.height)*zoom+\"px\";\n    \n    this.msText=source.msText;\n    \n     this.container.nativeElement.style.left=source.imgCoords.topLeft.x*zoom+\"px\";\n     this.container.nativeElement.style.top=source.imgCoords.topLeft.y*zoom+\"px\";\n    \n    console.log(this.container.nativeElement.style);\n}    \n    \n    hideFrame(){\n        this.manuscript.nativeElement.style[\"background-color\"] = \"transparent\";\n        console.log(\"hiding magic glass\");\n        this.container.nativeElement.style.display=\"none\";\n    }\n    \n    translate(w){\n        console.log(w);\n        this.data.askOxford(w.transcript,\"el\").subscribe((resp:Translation)=>w.translation=resp.results[0].lexicalEntries[0].entries[0].senses[0].translations[0].text);\n    }\n    \n    layers(){\n        this.container.nativeElement.style[\"background-image\"]=\"url('\"+this.msText.bgImage2+\"')\";\n    }\n    \n    clear(){\n        this.container.nativeElement.style[\"background-image\"]=\"url('\"+this.msText.bgImage+\"')\";\n        this.mode=\"none\";\n    }\n    \n    showInfo(){\n        this.infoWindow.open();\n    }\n    \n     navigate(set, part){\n        console.log(\"going to map\");\n        this.router.navigate(['interaction/'+set+'/'+part+\"/0\"])\n    }\n    \n    \n}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiIuLi9xci1yZWFkZXIvcXItcmVhZGVyLmNvbXBvbmVudC5jc3MifQ== */\"","module.exports = \"\\n<h1>Hold your device over a QR code.\\n<zxing-scanner #scanner class=\\\"test-class\\\" start=\\\"true\\\" [device]=\\\"selectedDevice\\\" (scanSuccess)=\\\"handleQrCodeResult($event)\\\"></zxing-scanner>\"","import { Component, OnInit, ViewChild } from '@angular/core';\n//import { NgxZxingScannerComponent } from '@zxing/ngx-scanner';\n\nimport { Result } from '@zxing/library';\n@Component({\n  selector: 'app-qr-reader',\n  templateUrl: './qr-reader.component.html',\n  styleUrls: ['./qr-reader.component.css']\n})\nexport class QrReaderComponent implements OnInit {\n\n  constructor() { }\n\n \n    \n    \n\n    @ViewChild('scanner') scanner: any;\n\n    hasCameras = false;\n    hasPermission: boolean;\n    qrResultString: string;\n\n    availableDevices: MediaDeviceInfo[];\n    selectedDevice: MediaDeviceInfo = null;\n\n    ngOnInit(): void {\n\n        this.scanner.camerasFound.subscribe((devices: MediaDeviceInfo[]) => {\n            this.hasCameras = true;\n\n            console.log('Devices: ', devices);\n            this.availableDevices = devices;\n\n            // selects the devices's back camera by default\n            // for (const device of devices) {\n            //     if (/back|rear|environment/gi.test(device.label)) {\n            //         this.scanner.changeDevice(device);\n            //         this.selectedDevice = device;\n            //         break;\n            //     }\n            // }\n        });\n\n        this.scanner.camerasNotFound.subscribe((devices: MediaDeviceInfo[]) => {\n            console.error('An error has occurred when trying to enumerate your video-stream-enabled devices.');\n        });\n\n        this.scanner.permissionResponse.subscribe((answer: boolean) => {\n          this.hasPermission = answer;\n        });\n\n    }\n\n    handleQrCodeResult(resultString: string) {\n        console.log('Result: ', resultString);\n        this.qrResultString = resultString;\n        window.location.href=resultString;\n    }\n\n    onDeviceSelectChange(selectedValue: string) {\n        console.log('Selection changed: ', selectedValue);\n        this.selectedDevice = this.scanner.getDeviceById(selectedValue);\n    }\n\n}\n","import { Injectable } from '@angular/core';\nimport { Islide } from '../interfaces/Islide';\nimport { SlideSet } from '../interfaces/slide-set';\nimport { ImgData } from '../interfaces/img-data';\nimport { ActivatedRoute } from '@angular/router';\nimport { HttpClient , HttpHeaders } from '@angular/common/http';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DataService {\n    presentation={jedna:\"prvni\", dva:\"druha\"};\n    slide: string;\n    imgData : ImgData[];\n    slideSets : SlideSet[];\n    \n\n  constructor(private _activatedRoute: ActivatedRoute, private http: HttpClient) { \n      console.log(\"data service construction\");\n     // console.log(this._activatedRoute.snapshot.params['zid']);\n  //this.slide=this._activatedRoute.snapshot.params['zid'];\n    //  console.log(\"SLIDE: \"+ this.slide);\n  \n  }\n    \n    fetchJson(fileName){\n        console.log(\"fetch \"+fileName);\n        return this.http.get(\"/assets/json/\"+fileName+\".json\");\n        \n    }\n    \n\n    \n     askOxford(word, language){\n        console.log(\"look up \"+word);\n \n        return this.http.get(\"/assets/php/askOxford.php?word=\"+word+\"&lang=\"+language);\n        \n    }\n    \n    \n    \n    \n\n    \n    processIcons(slideSet){\n        console.log(\"PROCEsSING\");\n        let ref=this;\n        slideSet.slides.forEach(function(slide){\n             slide.points=ref.stringToPath(slide.shape);\n            slide.imgCoords=ref.calcImgCoords(slide.points);\n            \n            if(slide.fields.icon.value){\n            slide.position=slide.imgCoords.topLeft;\n            slide.img=new Image();\n                slide.img.src=\"assets/images/\"+slide.fields.icon.value;\n                console.log(\"image loaded: \" + slide.img.src);\n           slide.source=slide.fields.icon.value;\n           \n            }\n            \n             if(slide.fields.image.value){\n            slide.img=new Image();\n                slide.img.src=\"assets/images/\"+slide.fields.image.value;\n                console.log(\"image loaded: \" + slide.img.src);\n           slide.source=slide.fields.icon.value;\n           \n            }\n        });\n        \n    }\n    \n    getImgData(i){\n        return this.imgData[i];\n    }\n    \n    getSlides(i){\n        let jsonData= this.fetchJson(\"aritreia\").subscribe(\n        function(data){\n            console.log(data);\n            let result=data;\n        this.processIcons(result);\n        return result;\n            \n            });\n        \n    }\n    \n        stringToPath(pathString){\n        let coords=pathString.trim().split(/\\s+/);\n        let rsl=[];\n        coords.forEach((c)=>{\n            let xy=c.trim().split(\",\");\n         \n            rsl.push({x:xy[0], y:xy[1]});\n        });\n        return rsl;\n    }\n    \n    calcImgCoords(points){\n        let xs=points.map((p)=>p.x);\n        let ys=points.map((p)=>p.y);\n        \n        let minX=this.myArrayMin(xs);\n        let minY=this.myArrayMin(ys);\n        \n        let maxX=this.myArrayMax(xs);\n        let maxY=this.myArrayMax(ys);\n        \n      return {topLeft:{x:minX, y:minY}, width:maxX-minX, height:maxY-minY, min:{x:minX, y:minY}, max:{x:maxX, y:maxY}}\n    }\n    \n    myArrayMin(arr) {\n  return Math.min.apply(null, arr);\n}\n  \n    myArrayMax(arr) {\n  return Math.max.apply(null, arr);\n}\n}\n \n    ","import { Injectable } from '@angular/core';\nimport { DrawingSettings } from '../interfaces/drawing-settings';\nimport { ImgData} from '../interfaces/img-data';\nimport { Point } from '../interfaces/point';\n\n@Injectable({\n  providedIn: 'root'\n})\n\nexport class DrawingSvc {\n    drawingSettings={uzemi:{}, highlight:{}, highlight_line:{}, Flora:{} , region_white:{}, region_green:{},region_green_dashed:{}, region_blue:{}, region_red:{}, region_red_dashed:{}, region_purple:{}, region_yellow:{},border_black:{},\n                     text:{},  image:{}, cloud:{}, darkCloud:{}, blackness:{}, battlefield:{}, road:{}, sea_road:{}, shadow_outline:{}};\n    animations=[];\n    dynamics = [];\n    animationStage=0;\n      animating : boolean = true;\n    imgData : any;\n  \nconstructor(\n    ) { \n    \n    this.drawingSettings.uzemi=<DrawingSettings>{fillStyle:\"transparent\", strokeStyle:\"red\", lineWidth:5, shadowColor:\"transparent\", shadowBlur:0};\n    this.drawingSettings.Flora=<DrawingSettings>{fillStyle:\"rgba(0,255,0,0.5)\", strokeStyle:\"transparent\", lineWidth:1, shadowColor:\"transparent\", shadowBlur:0};\n    this.drawingSettings.region_white=<DrawingSettings>{fillStyle:\"rgba(255,255,255,0.2)\", strokeStyle:\"black\", lineWidth:3, shadowColor:\"transparent\", shadowBlur:0};\n        this.drawingSettings.region_green=<DrawingSettings>{fillStyle:\"rgba(0,255,0,0.2)\", strokeStyle:\"black\", lineWidth:3, shadowColor:\"transparent\", shadowBlur:0};\n         this.drawingSettings.region_blue=<DrawingSettings>{ fillStyle:\"rgba(0,0,255,0.2)\", strokeStyle:\"black\", lineWidth:3, shadowColor:\"black\", shadowBlur:0};\n          this.drawingSettings.region_red=<DrawingSettings>{ fillStyle:\"rgba(255,0,0,0.2)\", strokeStyle:\"transparent\", lineWidth:0, shadowColor:\"black\", shadowBlur:50};\n       \n         this.drawingSettings.region_purple=<DrawingSettings>{ fillStyle:\"rgba(255,0,255,0.2)\", strokeStyle:\"black\", lineWidth:3, shadowColor:\"transparent\", shadowBlur:0};\n         this.drawingSettings.region_yellow=<DrawingSettings>{ fillStyle:\"rgba(239, 222, 28, 0.2)\", strokeStyle:\"transparent\", lineWidth:0, shadowColor:\"black\", shadowBlur:50};\n         this.drawingSettings.border_black=<DrawingSettings>{ fillStyle:\"transparent\", strokeStyle:\"black\", lineWidth:3, shadowColor:\"transparent\", shadowBlur:0};\n    this.drawingSettings.text=<DrawingSettings>{fillStyle:\"yellow\", strokeStyle:\"black\", lineWidth:3, shadowColor:\"transparent\", shadowBlur:0};\n    this.drawingSettings.highlight=<DrawingSettings>{ fillStyle:\"rgba(255,255,255,0.2)\", strokeStyle:\"transparent\", lineWidth:5, shadowColor:\"white\", shadowBlur:10};\n        this.drawingSettings.highlight_line=<DrawingSettings>{ fillStyle:\"transparent\", strokeStyle:\"rgba(255,255,255,0.7)\", lineWidth:8, shadowColor:\"white\", shadowBlur:5};\n    this.drawingSettings.image=<DrawingSettings>{ fillStyle:\"white\", strokeStyle:\"transparent\", lineWidth:5, shadowColor:\"white\", shadowBlur:10};\n        \n         this.drawingSettings.shadow_outline=<DrawingSettings>{ fillStyle:\"transparent\", strokeStyle:\"rgba(0,0,255,0.5)\", lineWidth:3, shadowColor:\"blue\", shadowBlur:10};\n        \n     this.drawingSettings.cloud=<DrawingSettings>{fillStyle:\"rgba(255,255,255,0.8)\", strokeStyle:\"transparent\", lineWidth:0, shadowColor:\"rgba(255,255,255,0.8)\", shadowBlur:50};    \n        this.drawingSettings.darkCloud=<DrawingSettings>{fillStyle:\"rgba(20,20,20,0.99)\", strokeStyle:\"transparent\", lineWidth:0, shadowColor:\"rgba(255,255,255,0.8)\", shadowBlur:100};  \n         this.drawingSettings.battlefield=<DrawingSettings>{fillStyle:\"rgba(255,0,0,0.5)\", strokeStyle:\"transparent\", lineWidth:0, shadowColor:\"rgba(255,0,0,0.5)\", shadowBlur:10}; \n        \n         this.drawingSettings.road=<DrawingSettings>{fillStyle:\"transparent\", strokeStyle:\"rgba(89, 52, 0,0.9)\", lineWidth:4, shadowColor:\"transparent\", shadowBlur:0}; \n        this.drawingSettings.sea_road=<DrawingSettings>{fillStyle:\"transparent\", strokeStyle:\"rgba(27, 29, 76,0.9)\", lineWidth:4, shadowColor:\"transparent\", shadowBlur:0};\n        \n        \n          this.drawingSettings.blackness=<DrawingSettings>{fillStyle:\"black\", strokeStyle:\"transparent\", lineWidth:0, shadowColor:\"black\", shadowBlur:5}; \n  this.imgData = {};\n    }\n    \n\n    \n    runAnimations(ctx, animCtx, canvas, zoom, startTime, duration){\n    //  console.log(\"animating\");\n        // this.applySetting(animCtx,\"image\");\n        let ref=this;\n        var requestAnimationFrame=window.requestAnimationFrame;\n        requestAnimationFrame(function(){ref.animate(ctx, animCtx, canvas, zoom, startTime, duration)});\n    }\n \n    \n    animate(ctx, animCtx, canvas, zoom, startTime, duration){\n        \n        if(this.animating){\n                animCtx.clearRect(0,0,canvas.nativeElement.width,canvas.nativeElement.height);\n        let ref=this;\n\n        this.animations.forEach(function(a, ai){\n            let now = Date.now();\n            let runningTime = now-startTime;\n           // console.log(\"running: \"+runningTime);\n            if(a.offset<=runningTime && a.offset+a.duration>=runningTime){\n               a.animate(animCtx, ref.calcStage(startTime+a.offset, a.duration), canvas, zoom);\n               }\n               \n             \n            \n        });\n        \n    \n        \n        if(this.animationStage<1){\n            this.animationStage=this.calcStage(startTime, duration);\n            requestAnimationFrame(function(){ref.runAnimations(ctx,animCtx, canvas, zoom, startTime, duration)});\n        }else{\n          //  console.log(\"animation finished\");\n            animCtx.clearRect(0,0,canvas.nativeElement.width,canvas.nativeElement.height);\n               this.animationStage=0;\n                this.runAnimations(ctx,animCtx, canvas, zoom,Date.now(), 5000);\n           \n            this.animations.filter((a)=>a.fixed).forEach(function(a){\n                \n                    a.draw(ctx);\n             \n        });\n        //    console.log(this.animations);\n        }\n        }\n        \n \n        \n    }\n    \n    \n    calcStage(startTime, duration){\n        let now = Date.now();\n        let diff = now - startTime;\n        let stage = diff/duration;\n        return stage;\n    }\n  \n    \n    writeText(ctx, text, canvasWidth, canvasHeight){\n        this.applySetting(ctx, \"text\");\n \n        ctx.textAlign=\"center\";\n        ctx.fillStyle=\"yellow\";\n       \n        let fontSize = canvasHeight/20;\n  \n        ctx.font=\"800 \"+fontSize+\"px Arial\";\n       \n    let textWidth = ctx.measureText(text.text).width;\n        \n        let  x = canvasWidth/2;\n        let y: number;\n        \n        if(textWidth<=canvasWidth-50){\n            y = canvasHeight - 20 - fontSize;\n            this.placeText(ctx,text.text.replace(\";\",\"\"), x, y);\n        }else{\n            let textSplit = text.text.split(\";\");\n\n             y = canvasHeight - 40 - (fontSize*2);\n            this.placeText(ctx,textSplit[0], x, y);\n              y = canvasHeight - 20 - fontSize;\n            this.placeText(ctx,textSplit[1], x, y);\n        }\n        \n        \n       \n    \n \n    }\n    \n    placeText(ctx,text, x, y){\n\n         ctx.fillText(text, x, y);\n        ctx.lineWidth=2;\n        ctx.strokeStyle=\"black\";\n        ctx.strokeText(text, x, y);\n    }\n    \n\n \n    drawPolygon(ctx, points, setting){\n      // this.applySetting(ctx,this.drawingSettings[setting]);\n     \n            ctx.beginPath();\n            ctx.moveTo(points[0].x,points[0].y);\n            \n            for(var p=1;p<points.length;p++)\n            {\n                ctx.lineTo(points[p].x, points[p].y);\n            }\n            \n            ctx.closePath();\n            ctx.fill(); \n            ctx.stroke();\n    }\n    \n      drawLine(ctx, points, setting){\n      // this.applySetting(ctx,this.drawingSettings[setting]);\n     \n            ctx.beginPath();\n          ctx.setLineDash([10, 6])\n            ctx.moveTo(points[0].x,points[0].y);\n            \n            for(var p=1;p<points.length;p++)\n            {\n                ctx.lineTo(points[p].x, points[p].y);\n            }\n            \n            ctx.stroke();\n          ctx.setLineDash([])\n    }\n    \n     drawCover(ctx, points){\n      // this.applySetting(ctx,this.drawingSettings[setting]);\n     \n          ctx.fillRect(0,0,5000,5000);\n            ctx.globalCompositeOperation = \"destination-out\";\n            ctx.beginPath();\n            ctx.moveTo(points[0].x,points[0].y);\n            \n            for(var p=1;p<points.length;p++)\n            {\n                ctx.lineTo(points[p].x, points[p].y);\n            }\n            \n            ctx.closePath();\n            ctx.fill(); \n            ctx.stroke();\n         \n       \n        ctx.globalCompositeOperation = \"source-over\";\n    }\n    \n       \n    \n\n    \n    drawImage(ctx, zone){\n      //  console.log(zone);\n      //  ctx.globalAlpha=1;\n        let shift=[0,0];\n//   zone.img.src = \"assets/images/\"+zone.source;\n    let ix= parseInt(zone.imgCoords.topLeft.x+shift[0]);\n    let iy=parseInt(zone.imgCoords.topLeft.y+shift[1]);\n    //console.log(ctx.globalAlpha);\n      //  console.log(zone.img.src);\n    //    console.log(zone.img+\" / \"+ix+\" / \"+ iy+\" / \"+ zone.imgCoords.width+\" / \"+ zone.imgCoords.height);\n   ctx.drawImage(zone.img,ix, iy, zone.imgCoords.width, zone.imgCoords.height);\n         ctx.globalAlpha=1;\n      \n \n    }\n    \n    drawStaticImage(ctx, zone){\n        this.applySetting(ctx, \"image\");\n        \n       // let img=new Image();\n        zone.img.onload=function(img){\n             \n     //    console.log(zone.img+\" / \"+zone.imgCoords.topLeft.x+\" / \"+ zone.imgCoords.topLeft.y+\" / \"+ zone.imgCoords.width+\" / \"+ zone.imgCoords.height);\n        ctx.drawImage(zone.img,zone.imgCoords.topLeft.x, zone.imgCoords.topLeft.y, zone.imgCoords.width, zone.imgCoords.height);\n        ctx.font = \"20px Georgia\";\n        //ctx.fillStyle=\"black\";\n        ctx.globalAlpha=1;\n        ctx.fillText(zone.word,  zone.imgCoords.topLeft.x ,zone.imgCoords.topLeft.y+zone.imgCoords.height);\n        };\n \n    }\n    \n    drawTransparentImage(ctx,zone, zoom){\n        //console.log(zone.alpha);\n    this.applySetting(ctx, \"image\");   \nthis.applyTransform(ctx, zone.transformSetting);\n   \n       // ctx.scale(zone.maxScale, zone.maxScale);\n         \n       \n        // console.log(zone.img+\" / \"+zzoone.imgCoords.topLeft.x+\" / \"+ zone.imgCoords.topLeft.y+\" / \"+ zone.imgCoords.width+\" / \"+ zone.imgCoords.height);\n        ctx.drawImage(zone.img,0, 0, zone.imgCoords.width, zone.imgCoords.height);\n       \n    \n    \n    }\n    \n        \n    drawCurtain(ctx,zone){\n  \n  \n        ctx.fillStyle=\"rgba(0,0,0,0.7)\";\n      \n        // console.log(zone.img+\" / \"+zzoone.imgCoords.topLeft.x+\" / \"+ zone.imgCoords.topLeft.y+\" / \"+ zone.imgCoords.width+\" / \"+ zone.imgCoords.height);\n        ctx.fillRect(0, 0, zone.imgCoords.width, zone.imgCoords.height);\n \n    \n    \n    }\n    \n//old version\n    calcDestination(position, destination, stage){\n       // console.log(stage);\n        let diffX=destination[0]-position.x;\n        let diffY=destination[1]-position.y;\n      //  console.log(diffY);\n        let shift=[diffX*stage, diffY*stage];\n      //  console.log(position);\n     //    console.log(destination);\n      //  console.log(shift);\n        return shift;\n    }\n    \n     calcAnimationPath(position : Point, points : Point[]){\n        let result = [{start:{time:0, point:position}, end:{time:0, point:{x:position.x, y:position.y}}, distance:0, relDistance:0}];\n        let ref = this;\n         points.forEach(function(p, pi){\n             result[pi].end.point=p;\n             result[pi].distance = ref.calcPathLength(result[pi].start.point, result[pi].end.point);\n             result.push({start:{time:0, point: p}, end:{time:0, point:{x:position.x, y:position.y}}, distance : 0, relDistance: 0});\n         });\n         \n         let distances = result.map((r)=>r.distance);\n        // console.log(\"total distance array: \" + distances);\n         let totalDistance = distances.reduce((tot,d)=>tot+d);\n         //  console.log(\"total distance: \" + totalDistance);\n         let counter = 0;\n          result.forEach(function(r, ri){\n             r.relDistance = r.distance/totalDistance;\n             r.start.time = counter;\n              counter+=r.relDistance;\n            r.end.time = counter;\n         });\n         \n         return result;\n         \n    }\n\n calcPathLength(a, b){\n        let sx = Math.abs(a.x-b.x);\n        let sy = Math.abs(a.y-b.y);\n        \n        let p = Math.sqrt(Math.pow(sx,2) + Math.pow(sy,2));\n        \n        return p;\n    }\n    \n    \n    applySetting(ctx, stg){\n       // ctx.globalAlpha=this.drawingSettings[stg].globalAlpha;\n        ctx.fillStyle=this.drawingSettings[stg].fillStyle;\n        ctx.strokeStyle=this.drawingSettings[stg].strokeStyle;\n        ctx.lineWidth=this.drawingSettings[stg].lineWidth;\n        ctx.shadowColor=this.drawingSettings[stg].shadowColor;\n        ctx.shadowBlur=this.drawingSettings[stg].shadowBlur;\n        \n        if(this.drawingSettings[stg].dashed){\n            ctx.setLineDash([10, 6])\n        }else{\n            ctx.setLineDash([])\n        }\n    }\n    \n    applyTransform(ctx,transformSetting){\n      // console.log(\">>> TRANSFORMING: \" + transformSetting.globalAlpha);\n        //console.log(transformSetting);\n    let scale = transformSetting.scale;\n\n        ctx.globalAlpha = transformSetting.globalAlpha;\n        ctx.translate(transformSetting.translate.x, transformSetting.translate.y); \n        ctx.scale(scale, scale); \n        \n    }\n    \n    \n    calcScaleToFit(img,canvas, zoom){\n  // console.log(canvas);\n    let wrapperWidth=canvas.nativeElement.offsetWidth;\n    let wrapperHeight=canvas.nativeElement.offsetHeight;\n    \n   // console.log(wrapperWidth*zoom +\" <> \"+wrapperHeight*zoom);\n   // console.log(img.width);\n    let ratioX=parseInt(wrapperWidth)/parseInt(img.width);\n    let ratioY=parseInt(wrapperHeight)/parseInt(img.height);\n    \n  //  console.log(ratioX +\" - \"+ratioY);\n    \n        let maxScale : number;\n        \n    if(ratioX<=ratioY){\n        maxScale = ratioX;\n    }else{\n        maxScale = ratioY;\n    }\n        \n    let centerX = (wrapperWidth-(img.width*maxScale))/2;   \n    let centerY = (wrapperHeight-(img.height*maxScale))/2;  \n        \n    let centerOrigX = (wrapperWidth-(img.width))/2;   \n    let centerOrigY = (wrapperHeight-(img.height))/2;  \n        \n     //   console.log({maxScale: maxScale, center : {x:centerX, y:centerY}});\n        \n        return {maxScale: maxScale, center : {x:centerX, y:centerY}, centerOrig:{x:centerOrigX, y:centerOrigY}};\n}\n \n        \n       stringToPath(pathString){\n        let coords=pathString.trim().split(/\\s+/);\n        let rsl=[];\n        coords.forEach((c)=>{\n            let xy=c.trim().split(\",\");\n         \n            rsl.push({x:xy[0], y:xy[1]});\n        });\n        return rsl;\n    }\n\n  //NOt USED\n    \n         drawTexture(ctx, zone, cat){\n           //  console.log(\"drawing texture\");\n      \n           // console.log(\"texture loaded\");\n           // zone.img.src=\"assets/images/textures/forest_tile.png\";\n         let texture=ctx.createPattern(zone.img, \"repeat\");\n            ctx.fillStyle=texture;\n         ctx.strokeStyle=\"transparent\";\n                ctx.beginPath();\n            ctx.moveTo(zone.points[0].x,zone.points[0].y);\n            \n            for(var p=1;p<zone.points.length;p++)\n            {\n             //    console.log(p);\n                ctx.lineTo(zone.points[p].x, zone.points[p].y);\n            }\n            \n            ctx.closePath();\n         \n         ctx.fill();\n            ctx.stroke();\n           \n       ctx.globalCompositeOperation='source-in';\n      zone.source=\"textures/forest_tile.png\";\n         //this.drawStaticImage(ctx,zone);)\n    //     console.log(texture);\n        //console.log(\"TEXTURE: /\"+texture+\" / \"+zone.imgCoords.topLeft.x+\" / \"+ zone.imgCoords.topLeft.y+\" / \"+ zone.imgCoords.width+\" / \"+ zone.imgCoords.height);\n        // ctx.fillStyle=\"transparent\";\n      //  ctx.drawImage(texture,zone.imgCoords.topLeft.x, zone.imgCoords.topLeft.y, zone.imgCoords.width, zone.imgCoords.height);\n       //ctx.fillStyle=\"blue\";\n        //ctx.fillRect(0,0,3000, 3000);\n      \n       ctx.globalCompositeOperation='source-over';\n       //this.applySetting(ctx,this.drawingSettings[cat]);\n           \n   \n       \n    }\n        \n        \n    }\n\n","import { Injectable } from '@angular/core';\nimport {  Router } from '@angular/router';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NavigationService {\n    previousRoutes : any[] = [];\n  constructor(private router : Router) { \n  this.previousRoutes = [];\n  }\n    \n    \n    goBack(i){\n        console.log(this.previousRoutes);\n        let path = \"interaction/\"+this.previousRoutes[i].join(\"/\");\n        this.navigate([path]);\n    }\n    \n    navigate(r){\n        this.router.navigate(r);\n    }   \n    \n    \n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\n\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":""}